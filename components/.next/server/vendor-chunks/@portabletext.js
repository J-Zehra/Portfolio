"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@portabletext";
exports.ids = ["vendor-chunks/@portabletext"];
exports.modules = {

/***/ "(ssr)/./node_modules/@portabletext/react/dist/index.js":
/*!********************************************************!*\
  !*** ./node_modules/@portabletext/react/dist/index.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PortableText: () => (/* binding */ PortableText),\n/* harmony export */   defaultComponents: () => (/* binding */ defaultComponents),\n/* harmony export */   mergeComponents: () => (/* binding */ mergeComponents),\n/* harmony export */   toPlainText: () => (/* reexport safe */ _portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.toPlainText)\n/* harmony export */ });\n/* harmony import */ var _portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @portabletext/toolkit */ \"(ssr)/./node_modules/@portabletext/toolkit/dist/index.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\nconst _excluded = [\n    \"block\",\n    \"list\",\n    \"listItem\",\n    \"marks\",\n    \"types\"\n], _excluded2 = [\n    \"listItem\"\n], _excluded3 = [\n    \"_key\"\n];\nfunction ownKeys(e, r) {\n    var t = Object.keys(e);\n    if (Object.getOwnPropertySymbols) {\n        var o = Object.getOwnPropertySymbols(e);\n        r && (o = o.filter(function(r) {\n            return Object.getOwnPropertyDescriptor(e, r).enumerable;\n        })), t.push.apply(t, o);\n    }\n    return t;\n}\nfunction _objectSpread(e) {\n    for(var r = 1; r < arguments.length; r++){\n        var t = null != arguments[r] ? arguments[r] : {};\n        r % 2 ? ownKeys(Object(t), !0).forEach(function(r) {\n            _defineProperty(e, r, t[r]);\n        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function(r) {\n            Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n        });\n    }\n    return e;\n}\nfunction _defineProperty(obj, key, value) {\n    key = _toPropertyKey(key);\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _toPropertyKey(arg) {\n    var key = _toPrimitive(arg, \"string\");\n    return typeof key === \"symbol\" ? key : String(key);\n}\nfunction _toPrimitive(input, hint) {\n    if (typeof input !== \"object\" || input === null) return input;\n    var prim = input[Symbol.toPrimitive];\n    if (prim !== undefined) {\n        var res = prim.call(input, hint || \"default\");\n        if (typeof res !== \"object\") return res;\n        throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (hint === \"string\" ? String : Number)(input);\n}\nfunction _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n    var key, i;\n    if (Object.getOwnPropertySymbols) {\n        var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n        for(i = 0; i < sourceSymbolKeys.length; i++){\n            key = sourceSymbolKeys[i];\n            if (excluded.indexOf(key) >= 0) continue;\n            if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n            target[key] = source[key];\n        }\n    }\n    return target;\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n    for(i = 0; i < sourceKeys.length; i++){\n        key = sourceKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        target[key] = source[key];\n    }\n    return target;\n}\n\n\n\n\nfunction mergeComponents(parent, overrides) {\n    const { block, list, listItem, marks, types } = overrides, rest = _objectWithoutProperties(overrides, _excluded);\n    return _objectSpread(_objectSpread({}, parent), {}, {\n        block: mergeDeeply(parent, overrides, \"block\"),\n        list: mergeDeeply(parent, overrides, \"list\"),\n        listItem: mergeDeeply(parent, overrides, \"listItem\"),\n        marks: mergeDeeply(parent, overrides, \"marks\"),\n        types: mergeDeeply(parent, overrides, \"types\")\n    }, rest);\n}\nfunction mergeDeeply(parent, overrides, key) {\n    const override = overrides[key];\n    const parentVal = parent[key];\n    if (typeof override === \"function\") {\n        return override;\n    }\n    if (override && typeof parentVal === \"function\") {\n        return override;\n    }\n    if (override) {\n        return _objectSpread(_objectSpread({}, parentVal), override);\n    }\n    return parentVal;\n}\nconst link = (_ref)=>{\n    let { children, value } = _ref;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"a\", {\n        href: value == null ? void 0 : value.href,\n        children\n    });\n};\nconst underlineStyle = {\n    textDecoration: \"underline\"\n};\nconst defaultMarks = {\n    em: (_ref2)=>{\n        let { children } = _ref2;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"em\", {\n            children\n        });\n    },\n    strong: (_ref3)=>{\n        let { children } = _ref3;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"strong\", {\n            children\n        });\n    },\n    code: (_ref4)=>{\n        let { children } = _ref4;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"code\", {\n            children\n        });\n    },\n    underline: (_ref5)=>{\n        let { children } = _ref5;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n            style: underlineStyle,\n            children\n        });\n    },\n    \"strike-through\": (_ref6)=>{\n        let { children } = _ref6;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"del\", {\n            children\n        });\n    },\n    link\n};\nconst defaultLists = {\n    number: (_ref7)=>{\n        let { children } = _ref7;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"ol\", {\n            children\n        });\n    },\n    bullet: (_ref8)=>{\n        let { children } = _ref8;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"ul\", {\n            children\n        });\n    }\n};\nconst DefaultListItem = (_ref9)=>{\n    let { children } = _ref9;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"li\", {\n        children\n    });\n};\nconst getTemplate = (type, prop)=>\"[@portabletext/react] Unknown \".concat(type, \", specify a component for it in the `components.\").concat(prop, \"` prop\");\nconst unknownTypeWarning = (typeName)=>getTemplate('block type \"'.concat(typeName, '\"'), \"types\");\nconst unknownMarkWarning = (markType)=>getTemplate('mark type \"'.concat(markType, '\"'), \"marks\");\nconst unknownBlockStyleWarning = (blockStyle)=>getTemplate('block style \"'.concat(blockStyle, '\"'), \"block\");\nconst unknownListStyleWarning = (listStyle)=>getTemplate('list style \"'.concat(listStyle, '\"'), \"list\");\nconst unknownListItemStyleWarning = (listStyle)=>getTemplate('list item style \"'.concat(listStyle, '\"'), \"listItem\");\nfunction printWarning(message) {\n    console.warn(message);\n}\nconst hidden = {\n    display: \"none\"\n};\nconst DefaultUnknownType = (_ref10)=>{\n    let { value, isInline } = _ref10;\n    const warning = unknownTypeWarning(value._type);\n    return isInline ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n        style: hidden,\n        children: warning\n    }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n        style: hidden,\n        children: warning\n    });\n};\nconst DefaultUnknownMark = (_ref11)=>{\n    let { markType, children } = _ref11;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n        className: \"unknown__pt__mark__\".concat(markType),\n        children\n    });\n};\nconst DefaultUnknownBlockStyle = (_ref12)=>{\n    let { children } = _ref12;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", {\n        children\n    });\n};\nconst DefaultUnknownList = (_ref13)=>{\n    let { children } = _ref13;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"ul\", {\n        children\n    });\n};\nconst DefaultUnknownListItem = (_ref14)=>{\n    let { children } = _ref14;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"li\", {\n        children\n    });\n};\nconst DefaultHardBreak = ()=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"br\", {});\nconst defaultBlockStyles = {\n    normal: (_ref15)=>{\n        let { children } = _ref15;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", {\n            children\n        });\n    },\n    blockquote: (_ref16)=>{\n        let { children } = _ref16;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"blockquote\", {\n            children\n        });\n    },\n    h1: (_ref17)=>{\n        let { children } = _ref17;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h1\", {\n            children\n        });\n    },\n    h2: (_ref18)=>{\n        let { children } = _ref18;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h2\", {\n            children\n        });\n    },\n    h3: (_ref19)=>{\n        let { children } = _ref19;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h3\", {\n            children\n        });\n    },\n    h4: (_ref20)=>{\n        let { children } = _ref20;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h4\", {\n            children\n        });\n    },\n    h5: (_ref21)=>{\n        let { children } = _ref21;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h5\", {\n            children\n        });\n    },\n    h6: (_ref22)=>{\n        let { children } = _ref22;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h6\", {\n            children\n        });\n    }\n};\nconst defaultComponents = {\n    types: {},\n    block: defaultBlockStyles,\n    marks: defaultMarks,\n    list: defaultLists,\n    listItem: DefaultListItem,\n    hardBreak: DefaultHardBreak,\n    unknownType: DefaultUnknownType,\n    unknownMark: DefaultUnknownMark,\n    unknownList: DefaultUnknownList,\n    unknownListItem: DefaultUnknownListItem,\n    unknownBlockStyle: DefaultUnknownBlockStyle\n};\nfunction PortableText(_ref23) {\n    let { value: input, components: componentOverrides, listNestingMode, onMissingComponent: missingComponentHandler = printWarning } = _ref23;\n    const handleMissingComponent = missingComponentHandler || noop;\n    const blocks = Array.isArray(input) ? input : [\n        input\n    ];\n    const nested = (0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.nestLists)(blocks, listNestingMode || _portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.LIST_NEST_MODE_HTML);\n    const components = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        return componentOverrides ? mergeComponents(defaultComponents, componentOverrides) : defaultComponents;\n    }, [\n        componentOverrides\n    ]);\n    const renderNode = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>getNodeRenderer(components, handleMissingComponent), [\n        components,\n        handleMissingComponent\n    ]);\n    const rendered = nested.map((node, index)=>renderNode({\n            node,\n            index,\n            isInline: false,\n            renderNode\n        }));\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n        children: rendered\n    });\n}\nconst getNodeRenderer = (components, handleMissingComponent)=>{\n    function renderNode(options) {\n        const { node, index, isInline } = options;\n        const key = node._key || \"node-\".concat(index);\n        if ((0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.isPortableTextToolkitList)(node)) {\n            return renderList(node, index, key);\n        }\n        if ((0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.isPortableTextListItemBlock)(node)) {\n            return renderListItem(node, index, key);\n        }\n        if ((0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.isPortableTextToolkitSpan)(node)) {\n            return renderSpan(node, index, key);\n        }\n        if (hasCustomComponentForNode(node)) {\n            return renderCustomBlock(node, index, key, isInline);\n        }\n        if ((0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.isPortableTextBlock)(node)) {\n            return renderBlock(node, index, key, isInline);\n        }\n        if ((0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.isPortableTextToolkitTextNode)(node)) {\n            return renderText(node, key);\n        }\n        return renderUnknownType(node, index, key, isInline);\n    }\n    function hasCustomComponentForNode(node) {\n        return node._type in components.types;\n    }\n    function renderListItem(node, index, key) {\n        const tree = serializeBlock({\n            node,\n            index,\n            isInline: false,\n            renderNode\n        });\n        const renderer = components.listItem;\n        const handler = typeof renderer === \"function\" ? renderer : renderer[node.listItem];\n        const Li = handler || components.unknownListItem;\n        if (Li === components.unknownListItem) {\n            const style = node.listItem || \"bullet\";\n            handleMissingComponent(unknownListItemStyleWarning(style), {\n                type: style,\n                nodeType: \"listItemStyle\"\n            });\n        }\n        let children = tree.children;\n        if (node.style && node.style !== \"normal\") {\n            const { listItem } = node, blockNode = _objectWithoutProperties(node, _excluded2);\n            children = renderNode({\n                node: blockNode,\n                index,\n                isInline: false,\n                renderNode\n            });\n        }\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Li, {\n            value: node,\n            index,\n            isInline: false,\n            renderNode,\n            children\n        }, key);\n    }\n    function renderList(node, index, key) {\n        const children = node.children.map((child, childIndex)=>renderNode({\n                node: child._key ? child : _objectSpread(_objectSpread({}, child), {}, {\n                    _key: \"li-\".concat(index, \"-\").concat(childIndex)\n                }),\n                index: childIndex,\n                isInline: false,\n                renderNode\n            }));\n        const component = components.list;\n        const handler = typeof component === \"function\" ? component : component[node.listItem];\n        const List = handler || components.unknownList;\n        if (List === components.unknownList) {\n            const style = node.listItem || \"bullet\";\n            handleMissingComponent(unknownListStyleWarning(style), {\n                nodeType: \"listStyle\",\n                type: style\n            });\n        }\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(List, {\n            value: node,\n            index,\n            isInline: false,\n            renderNode,\n            children\n        }, key);\n    }\n    function renderSpan(node, _index, key) {\n        const { markDef, markType, markKey } = node;\n        const Span = components.marks[markType] || components.unknownMark;\n        const children = node.children.map((child, childIndex)=>renderNode({\n                node: child,\n                index: childIndex,\n                isInline: true,\n                renderNode\n            }));\n        if (Span === components.unknownMark) {\n            handleMissingComponent(unknownMarkWarning(markType), {\n                nodeType: \"mark\",\n                type: markType\n            });\n        }\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Span, {\n            text: (0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.spanToPlainText)(node),\n            value: markDef,\n            markType,\n            markKey,\n            renderNode,\n            children\n        }, key);\n    }\n    function renderBlock(node, index, key, isInline) {\n        const _serializeBlock = serializeBlock({\n            node,\n            index,\n            isInline,\n            renderNode\n        }), { _key } = _serializeBlock, props = _objectWithoutProperties(_serializeBlock, _excluded3);\n        const style = props.node.style || \"normal\";\n        const handler = typeof components.block === \"function\" ? components.block : components.block[style];\n        const Block = handler || components.unknownBlockStyle;\n        if (Block === components.unknownBlockStyle) {\n            handleMissingComponent(unknownBlockStyleWarning(style), {\n                nodeType: \"blockStyle\",\n                type: style\n            });\n        }\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Block, _objectSpread(_objectSpread({}, props), {}, {\n            value: props.node,\n            renderNode\n        }), key);\n    }\n    function renderText(node, key) {\n        if (node.text === \"\\n\") {\n            const HardBreak = components.hardBreak;\n            return HardBreak ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(HardBreak, {}, key) : \"\\n\";\n        }\n        return node.text;\n    }\n    function renderUnknownType(node, index, key, isInline) {\n        const nodeOptions = {\n            value: node,\n            isInline,\n            index,\n            renderNode\n        };\n        handleMissingComponent(unknownTypeWarning(node._type), {\n            nodeType: \"block\",\n            type: node._type\n        });\n        const UnknownType = components.unknownType;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(UnknownType, _objectSpread({}, nodeOptions), key);\n    }\n    function renderCustomBlock(node, index, key, isInline) {\n        const nodeOptions = {\n            value: node,\n            isInline,\n            index,\n            renderNode\n        };\n        const Node = components.types[node._type];\n        return Node ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Node, _objectSpread({}, nodeOptions), key) : null;\n    }\n    return renderNode;\n};\nfunction serializeBlock(options) {\n    const { node, index, isInline, renderNode } = options;\n    const tree = (0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.buildMarksTree)(node);\n    const children = tree.map((child, i)=>renderNode({\n            node: child,\n            isInline: true,\n            index: i,\n            renderNode\n        }));\n    return {\n        _key: node._key || \"block-\".concat(index),\n        children,\n        index,\n        isInline,\n        node\n    };\n}\nfunction noop() {}\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHBvcnRhYmxldGV4dC9yZWFjdC9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxNQUFNQSxZQUFZO0lBQUM7SUFBUztJQUFRO0lBQVk7SUFBUztDQUFRLEVBQy9EQyxhQUFhO0lBQUM7Q0FBVyxFQUN6QkMsYUFBYTtJQUFDO0NBQU87QUFDdkIsU0FBU0MsUUFBUUMsQ0FBQyxFQUFFQyxDQUFDO0lBQUksSUFBSUMsSUFBSUMsT0FBT0MsSUFBSSxDQUFDSjtJQUFJLElBQUlHLE9BQU9FLHFCQUFxQixFQUFFO1FBQUUsSUFBSUMsSUFBSUgsT0FBT0UscUJBQXFCLENBQUNMO1FBQUlDLEtBQU1LLENBQUFBLElBQUlBLEVBQUVDLE1BQU0sQ0FBQyxTQUFVTixDQUFDO1lBQUksT0FBT0UsT0FBT0ssd0JBQXdCLENBQUNSLEdBQUdDLEdBQUdRLFVBQVU7UUFBRSxFQUFDLEdBQUlQLEVBQUVRLElBQUksQ0FBQ0MsS0FBSyxDQUFDVCxHQUFHSTtJQUFJO0lBQUUsT0FBT0o7QUFBRztBQUM5UCxTQUFTVSxjQUFjWixDQUFDO0lBQUksSUFBSyxJQUFJQyxJQUFJLEdBQUdBLElBQUlZLFVBQVVDLE1BQU0sRUFBRWIsSUFBSztRQUFFLElBQUlDLElBQUksUUFBUVcsU0FBUyxDQUFDWixFQUFFLEdBQUdZLFNBQVMsQ0FBQ1osRUFBRSxHQUFHLENBQUM7UUFBR0EsSUFBSSxJQUFJRixRQUFRSSxPQUFPRCxJQUFJLENBQUMsR0FBR2EsT0FBTyxDQUFDLFNBQVVkLENBQUM7WUFBSWUsZ0JBQWdCaEIsR0FBR0MsR0FBR0MsQ0FBQyxDQUFDRCxFQUFFO1FBQUcsS0FBS0UsT0FBT2MseUJBQXlCLEdBQUdkLE9BQU9lLGdCQUFnQixDQUFDbEIsR0FBR0csT0FBT2MseUJBQXlCLENBQUNmLE1BQU1ILFFBQVFJLE9BQU9ELElBQUlhLE9BQU8sQ0FBQyxTQUFVZCxDQUFDO1lBQUlFLE9BQU9nQixjQUFjLENBQUNuQixHQUFHQyxH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LEtBQUssR0FBRztZQUNyRHFFLFVBQVU7WUFDVjNGLE1BQU0wRSxLQUFLcEQsS0FBSztRQUNsQjtRQUNBLE1BQU1xRixjQUFjaEQsV0FBV1AsV0FBVztRQUMxQyxPQUFPLGFBQWEsR0FBRTVGLHNEQUFHQSxDQUFDbUosYUFBYW5NLGNBQWMsQ0FBQyxHQUFHa00sY0FBY3pMO0lBQ3pFO0lBQ0EsU0FBU2lLLGtCQUFrQlIsSUFBSSxFQUFFQyxLQUFLLEVBQUUxSixHQUFHLEVBQUVtRyxRQUFRO1FBQ25ELE1BQU1zRixjQUFjO1lBQ2xCeEwsT0FBT3dKO1lBQ1B0RDtZQUNBdUQ7WUFDQUw7UUFDRjtRQUNBLE1BQU1zQyxPQUFPakQsV0FBV3pGLEtBQUssQ0FBQ3dHLEtBQUtwRCxLQUFLLENBQUM7UUFDekMsT0FBT3NGLE9BQU8sYUFBYSxHQUFFcEosc0RBQUdBLENBQUNvSixNQUFNcE0sY0FBYyxDQUFDLEdBQUdrTSxjQUFjekwsT0FBTztJQUNoRjtJQUNBLE9BQU9xSjtBQUNUO0FBQ0EsU0FBU2lCLGVBQWVYLE9BQU87SUFDN0IsTUFBTSxFQUNKRixJQUFJLEVBQ0pDLEtBQUssRUFDTHZELFFBQVEsRUFDUmtELFVBQVUsRUFDWCxHQUFHTTtJQUNKLE1BQU1VLE9BQU9oSSxxRUFBY0EsQ0FBQ29IO0lBQzVCLE1BQU1qRyxXQUFXNkcsS0FBS2IsR0FBRyxDQUFDLENBQUNvQixPQUFPckosSUFBTThILFdBQVc7WUFDakRJLE1BQU1tQjtZQUNOekUsVUFBVTtZQUNWdUQsT0FBT25JO1lBQ1A4SDtRQUNGO0lBQ0EsT0FBTztRQUNMTyxNQUFNSCxLQUFLRyxJQUFJLElBQUksU0FBUzNFLE1BQU0sQ0FBQ3lFO1FBQ25DbEc7UUFDQWtHO1FBQ0F2RDtRQUNBc0Q7SUFDRjtBQUNGO0FBQ0EsU0FBU1QsUUFBUTtBQUMyQyxDQUM1RCxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3J0Zm9saW8vLi9ub2RlX21vZHVsZXMvQHBvcnRhYmxldGV4dC9yZWFjdC9kaXN0L2luZGV4LmpzP2JmY2EiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgX2V4Y2x1ZGVkID0gW1wiYmxvY2tcIiwgXCJsaXN0XCIsIFwibGlzdEl0ZW1cIiwgXCJtYXJrc1wiLCBcInR5cGVzXCJdLFxuICBfZXhjbHVkZWQyID0gW1wibGlzdEl0ZW1cIl0sXG4gIF9leGNsdWRlZDMgPSBbXCJfa2V5XCJdO1xuZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGtleSA9IF90b1Byb3BlcnR5S2V5KGtleSk7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7IHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTsgcmV0dXJuIHR5cGVvZiBrZXkgPT09IFwic3ltYm9sXCIgPyBrZXkgOiBTdHJpbmcoa2V5KTsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKGlucHV0LCBoaW50KSB7IGlmICh0eXBlb2YgaW5wdXQgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDsgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7IHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgXCJkZWZhdWx0XCIpOyBpZiAodHlwZW9mIHJlcyAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHJlczsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpOyB9XG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpOyB2YXIga2V5LCBpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cbmltcG9ydCB7IG5lc3RMaXN0cywgTElTVF9ORVNUX01PREVfSFRNTCwgaXNQb3J0YWJsZVRleHRUb29sa2l0TGlzdCwgaXNQb3J0YWJsZVRleHRMaXN0SXRlbUJsb2NrLCBpc1BvcnRhYmxlVGV4dFRvb2xraXRTcGFuLCBpc1BvcnRhYmxlVGV4dEJsb2NrLCBpc1BvcnRhYmxlVGV4dFRvb2xraXRUZXh0Tm9kZSwgc3BhblRvUGxhaW5UZXh0LCBidWlsZE1hcmtzVHJlZSB9IGZyb20gJ0Bwb3J0YWJsZXRleHQvdG9vbGtpdCc7XG5leHBvcnQgeyB0b1BsYWluVGV4dCB9IGZyb20gJ0Bwb3J0YWJsZXRleHQvdG9vbGtpdCc7XG5pbXBvcnQgeyBqc3gsIEZyYWdtZW50IH0gZnJvbSAncmVhY3QvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmZ1bmN0aW9uIG1lcmdlQ29tcG9uZW50cyhwYXJlbnQsIG92ZXJyaWRlcykge1xuICBjb25zdCB7XG4gICAgICBibG9jayxcbiAgICAgIGxpc3QsXG4gICAgICBsaXN0SXRlbSxcbiAgICAgIG1hcmtzLFxuICAgICAgdHlwZXNcbiAgICB9ID0gb3ZlcnJpZGVzLFxuICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob3ZlcnJpZGVzLCBfZXhjbHVkZWQpO1xuICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwYXJlbnQpLCB7fSwge1xuICAgIGJsb2NrOiBtZXJnZURlZXBseShwYXJlbnQsIG92ZXJyaWRlcywgXCJibG9ja1wiKSxcbiAgICBsaXN0OiBtZXJnZURlZXBseShwYXJlbnQsIG92ZXJyaWRlcywgXCJsaXN0XCIpLFxuICAgIGxpc3RJdGVtOiBtZXJnZURlZXBseShwYXJlbnQsIG92ZXJyaWRlcywgXCJsaXN0SXRlbVwiKSxcbiAgICBtYXJrczogbWVyZ2VEZWVwbHkocGFyZW50LCBvdmVycmlkZXMsIFwibWFya3NcIiksXG4gICAgdHlwZXM6IG1lcmdlRGVlcGx5KHBhcmVudCwgb3ZlcnJpZGVzLCBcInR5cGVzXCIpXG4gIH0sIHJlc3QpO1xufVxuZnVuY3Rpb24gbWVyZ2VEZWVwbHkocGFyZW50LCBvdmVycmlkZXMsIGtleSkge1xuICBjb25zdCBvdmVycmlkZSA9IG92ZXJyaWRlc1trZXldO1xuICBjb25zdCBwYXJlbnRWYWwgPSBwYXJlbnRba2V5XTtcbiAgaWYgKHR5cGVvZiBvdmVycmlkZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIG92ZXJyaWRlO1xuICB9XG4gIGlmIChvdmVycmlkZSAmJiB0eXBlb2YgcGFyZW50VmFsID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gb3ZlcnJpZGU7XG4gIH1cbiAgaWYgKG92ZXJyaWRlKSB7XG4gICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcGFyZW50VmFsKSwgb3ZlcnJpZGUpO1xuICB9XG4gIHJldHVybiBwYXJlbnRWYWw7XG59XG5jb25zdCBsaW5rID0gX3JlZiA9PiB7XG4gIGxldCB7XG4gICAgY2hpbGRyZW4sXG4gICAgdmFsdWVcbiAgfSA9IF9yZWY7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goXCJhXCIsIHtcbiAgICBocmVmOiB2YWx1ZSA9PSBudWxsID8gdm9pZCAwIDogdmFsdWUuaHJlZixcbiAgICBjaGlsZHJlblxuICB9KTtcbn07XG5jb25zdCB1bmRlcmxpbmVTdHlsZSA9IHtcbiAgdGV4dERlY29yYXRpb246IFwidW5kZXJsaW5lXCJcbn07XG5jb25zdCBkZWZhdWx0TWFya3MgPSB7XG4gIGVtOiBfcmVmMiA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSA9IF9yZWYyO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goXCJlbVwiLCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0pO1xuICB9LFxuICBzdHJvbmc6IF9yZWYzID0+IHtcbiAgICBsZXQge1xuICAgICAgY2hpbGRyZW5cbiAgICB9ID0gX3JlZjM7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChcInN0cm9uZ1wiLCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0pO1xuICB9LFxuICBjb2RlOiBfcmVmNCA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSA9IF9yZWY0O1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goXCJjb2RlXCIsIHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSk7XG4gIH0sXG4gIHVuZGVybGluZTogX3JlZjUgPT4ge1xuICAgIGxldCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0gPSBfcmVmNTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwic3BhblwiLCB7XG4gICAgICBzdHlsZTogdW5kZXJsaW5lU3R5bGUsXG4gICAgICBjaGlsZHJlblxuICAgIH0pO1xuICB9LFxuICBcInN0cmlrZS10aHJvdWdoXCI6IF9yZWY2ID0+IHtcbiAgICBsZXQge1xuICAgICAgY2hpbGRyZW5cbiAgICB9ID0gX3JlZjY7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChcImRlbFwiLCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0pO1xuICB9LFxuICBsaW5rXG59O1xuY29uc3QgZGVmYXVsdExpc3RzID0ge1xuICBudW1iZXI6IF9yZWY3ID0+IHtcbiAgICBsZXQge1xuICAgICAgY2hpbGRyZW5cbiAgICB9ID0gX3JlZjc7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChcIm9sXCIsIHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSk7XG4gIH0sXG4gIGJ1bGxldDogX3JlZjggPT4ge1xuICAgIGxldCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0gPSBfcmVmODtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwidWxcIiwge1xuICAgICAgY2hpbGRyZW5cbiAgICB9KTtcbiAgfVxufTtcbmNvbnN0IERlZmF1bHRMaXN0SXRlbSA9IF9yZWY5ID0+IHtcbiAgbGV0IHtcbiAgICBjaGlsZHJlblxuICB9ID0gX3JlZjk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goXCJsaVwiLCB7XG4gICAgY2hpbGRyZW5cbiAgfSk7XG59O1xuY29uc3QgZ2V0VGVtcGxhdGUgPSAodHlwZSwgcHJvcCkgPT4gXCJbQHBvcnRhYmxldGV4dC9yZWFjdF0gVW5rbm93biBcIi5jb25jYXQodHlwZSwgXCIsIHNwZWNpZnkgYSBjb21wb25lbnQgZm9yIGl0IGluIHRoZSBgY29tcG9uZW50cy5cIikuY29uY2F0KHByb3AsIFwiYCBwcm9wXCIpO1xuY29uc3QgdW5rbm93blR5cGVXYXJuaW5nID0gdHlwZU5hbWUgPT4gZ2V0VGVtcGxhdGUoJ2Jsb2NrIHR5cGUgXCInLmNvbmNhdCh0eXBlTmFtZSwgJ1wiJyksIFwidHlwZXNcIik7XG5jb25zdCB1bmtub3duTWFya1dhcm5pbmcgPSBtYXJrVHlwZSA9PiBnZXRUZW1wbGF0ZSgnbWFyayB0eXBlIFwiJy5jb25jYXQobWFya1R5cGUsICdcIicpLCBcIm1hcmtzXCIpO1xuY29uc3QgdW5rbm93bkJsb2NrU3R5bGVXYXJuaW5nID0gYmxvY2tTdHlsZSA9PiBnZXRUZW1wbGF0ZSgnYmxvY2sgc3R5bGUgXCInLmNvbmNhdChibG9ja1N0eWxlLCAnXCInKSwgXCJibG9ja1wiKTtcbmNvbnN0IHVua25vd25MaXN0U3R5bGVXYXJuaW5nID0gbGlzdFN0eWxlID0+IGdldFRlbXBsYXRlKCdsaXN0IHN0eWxlIFwiJy5jb25jYXQobGlzdFN0eWxlLCAnXCInKSwgXCJsaXN0XCIpO1xuY29uc3QgdW5rbm93bkxpc3RJdGVtU3R5bGVXYXJuaW5nID0gbGlzdFN0eWxlID0+IGdldFRlbXBsYXRlKCdsaXN0IGl0ZW0gc3R5bGUgXCInLmNvbmNhdChsaXN0U3R5bGUsICdcIicpLCBcImxpc3RJdGVtXCIpO1xuZnVuY3Rpb24gcHJpbnRXYXJuaW5nKG1lc3NhZ2UpIHtcbiAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xufVxuY29uc3QgaGlkZGVuID0ge1xuICBkaXNwbGF5OiBcIm5vbmVcIlxufTtcbmNvbnN0IERlZmF1bHRVbmtub3duVHlwZSA9IF9yZWYxMCA9PiB7XG4gIGxldCB7XG4gICAgdmFsdWUsXG4gICAgaXNJbmxpbmVcbiAgfSA9IF9yZWYxMDtcbiAgY29uc3Qgd2FybmluZyA9IHVua25vd25UeXBlV2FybmluZyh2YWx1ZS5fdHlwZSk7XG4gIHJldHVybiBpc0lubGluZSA/IC8qIEBfX1BVUkVfXyAqL2pzeChcInNwYW5cIiwge1xuICAgIHN0eWxlOiBoaWRkZW4sXG4gICAgY2hpbGRyZW46IHdhcm5pbmdcbiAgfSkgOiAvKiBAX19QVVJFX18gKi9qc3goXCJkaXZcIiwge1xuICAgIHN0eWxlOiBoaWRkZW4sXG4gICAgY2hpbGRyZW46IHdhcm5pbmdcbiAgfSk7XG59O1xuY29uc3QgRGVmYXVsdFVua25vd25NYXJrID0gX3JlZjExID0+IHtcbiAgbGV0IHtcbiAgICBtYXJrVHlwZSxcbiAgICBjaGlsZHJlblxuICB9ID0gX3JlZjExO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInVua25vd25fX3B0X19tYXJrX19cIi5jb25jYXQobWFya1R5cGUpLFxuICAgIGNoaWxkcmVuXG4gIH0pO1xufTtcbmNvbnN0IERlZmF1bHRVbmtub3duQmxvY2tTdHlsZSA9IF9yZWYxMiA9PiB7XG4gIGxldCB7XG4gICAgY2hpbGRyZW5cbiAgfSA9IF9yZWYxMjtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChcInBcIiwge1xuICAgIGNoaWxkcmVuXG4gIH0pO1xufTtcbmNvbnN0IERlZmF1bHRVbmtub3duTGlzdCA9IF9yZWYxMyA9PiB7XG4gIGxldCB7XG4gICAgY2hpbGRyZW5cbiAgfSA9IF9yZWYxMztcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChcInVsXCIsIHtcbiAgICBjaGlsZHJlblxuICB9KTtcbn07XG5jb25zdCBEZWZhdWx0VW5rbm93bkxpc3RJdGVtID0gX3JlZjE0ID0+IHtcbiAgbGV0IHtcbiAgICBjaGlsZHJlblxuICB9ID0gX3JlZjE0O1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwibGlcIiwge1xuICAgIGNoaWxkcmVuXG4gIH0pO1xufTtcbmNvbnN0IERlZmF1bHRIYXJkQnJlYWsgPSAoKSA9PiAvKiBAX19QVVJFX18gKi9qc3goXCJiclwiLCB7fSk7XG5jb25zdCBkZWZhdWx0QmxvY2tTdHlsZXMgPSB7XG4gIG5vcm1hbDogX3JlZjE1ID0+IHtcbiAgICBsZXQge1xuICAgICAgY2hpbGRyZW5cbiAgICB9ID0gX3JlZjE1O1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goXCJwXCIsIHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSk7XG4gIH0sXG4gIGJsb2NrcXVvdGU6IF9yZWYxNiA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSA9IF9yZWYxNjtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwiYmxvY2txdW90ZVwiLCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0pO1xuICB9LFxuICBoMTogX3JlZjE3ID0+IHtcbiAgICBsZXQge1xuICAgICAgY2hpbGRyZW5cbiAgICB9ID0gX3JlZjE3O1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goXCJoMVwiLCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0pO1xuICB9LFxuICBoMjogX3JlZjE4ID0+IHtcbiAgICBsZXQge1xuICAgICAgY2hpbGRyZW5cbiAgICB9ID0gX3JlZjE4O1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goXCJoMlwiLCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0pO1xuICB9LFxuICBoMzogX3JlZjE5ID0+IHtcbiAgICBsZXQge1xuICAgICAgY2hpbGRyZW5cbiAgICB9ID0gX3JlZjE5O1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goXCJoM1wiLCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0pO1xuICB9LFxuICBoNDogX3JlZjIwID0+IHtcbiAgICBsZXQge1xuICAgICAgY2hpbGRyZW5cbiAgICB9ID0gX3JlZjIwO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goXCJoNFwiLCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0pO1xuICB9LFxuICBoNTogX3JlZjIxID0+IHtcbiAgICBsZXQge1xuICAgICAgY2hpbGRyZW5cbiAgICB9ID0gX3JlZjIxO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goXCJoNVwiLCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0pO1xuICB9LFxuICBoNjogX3JlZjIyID0+IHtcbiAgICBsZXQge1xuICAgICAgY2hpbGRyZW5cbiAgICB9ID0gX3JlZjIyO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goXCJoNlwiLCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0pO1xuICB9XG59O1xuY29uc3QgZGVmYXVsdENvbXBvbmVudHMgPSB7XG4gIHR5cGVzOiB7fSxcbiAgYmxvY2s6IGRlZmF1bHRCbG9ja1N0eWxlcyxcbiAgbWFya3M6IGRlZmF1bHRNYXJrcyxcbiAgbGlzdDogZGVmYXVsdExpc3RzLFxuICBsaXN0SXRlbTogRGVmYXVsdExpc3RJdGVtLFxuICBoYXJkQnJlYWs6IERlZmF1bHRIYXJkQnJlYWssXG4gIHVua25vd25UeXBlOiBEZWZhdWx0VW5rbm93blR5cGUsXG4gIHVua25vd25NYXJrOiBEZWZhdWx0VW5rbm93bk1hcmssXG4gIHVua25vd25MaXN0OiBEZWZhdWx0VW5rbm93bkxpc3QsXG4gIHVua25vd25MaXN0SXRlbTogRGVmYXVsdFVua25vd25MaXN0SXRlbSxcbiAgdW5rbm93bkJsb2NrU3R5bGU6IERlZmF1bHRVbmtub3duQmxvY2tTdHlsZVxufTtcbmZ1bmN0aW9uIFBvcnRhYmxlVGV4dChfcmVmMjMpIHtcbiAgbGV0IHtcbiAgICB2YWx1ZTogaW5wdXQsXG4gICAgY29tcG9uZW50czogY29tcG9uZW50T3ZlcnJpZGVzLFxuICAgIGxpc3ROZXN0aW5nTW9kZSxcbiAgICBvbk1pc3NpbmdDb21wb25lbnQ6IG1pc3NpbmdDb21wb25lbnRIYW5kbGVyID0gcHJpbnRXYXJuaW5nXG4gIH0gPSBfcmVmMjM7XG4gIGNvbnN0IGhhbmRsZU1pc3NpbmdDb21wb25lbnQgPSBtaXNzaW5nQ29tcG9uZW50SGFuZGxlciB8fCBub29wO1xuICBjb25zdCBibG9ja3MgPSBBcnJheS5pc0FycmF5KGlucHV0KSA/IGlucHV0IDogW2lucHV0XTtcbiAgY29uc3QgbmVzdGVkID0gbmVzdExpc3RzKGJsb2NrcywgbGlzdE5lc3RpbmdNb2RlIHx8IExJU1RfTkVTVF9NT0RFX0hUTUwpO1xuICBjb25zdCBjb21wb25lbnRzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIGNvbXBvbmVudE92ZXJyaWRlcyA/IG1lcmdlQ29tcG9uZW50cyhkZWZhdWx0Q29tcG9uZW50cywgY29tcG9uZW50T3ZlcnJpZGVzKSA6IGRlZmF1bHRDb21wb25lbnRzO1xuICB9LCBbY29tcG9uZW50T3ZlcnJpZGVzXSk7XG4gIGNvbnN0IHJlbmRlck5vZGUgPSB1c2VNZW1vKCgpID0+IGdldE5vZGVSZW5kZXJlcihjb21wb25lbnRzLCBoYW5kbGVNaXNzaW5nQ29tcG9uZW50KSwgW2NvbXBvbmVudHMsIGhhbmRsZU1pc3NpbmdDb21wb25lbnRdKTtcbiAgY29uc3QgcmVuZGVyZWQgPSBuZXN0ZWQubWFwKChub2RlLCBpbmRleCkgPT4gcmVuZGVyTm9kZSh7XG4gICAgbm9kZSxcbiAgICBpbmRleCxcbiAgICBpc0lubGluZTogZmFsc2UsXG4gICAgcmVuZGVyTm9kZVxuICB9KSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goRnJhZ21lbnQsIHtcbiAgICBjaGlsZHJlbjogcmVuZGVyZWRcbiAgfSk7XG59XG5jb25zdCBnZXROb2RlUmVuZGVyZXIgPSAoY29tcG9uZW50cywgaGFuZGxlTWlzc2luZ0NvbXBvbmVudCkgPT4ge1xuICBmdW5jdGlvbiByZW5kZXJOb2RlKG9wdGlvbnMpIHtcbiAgICBjb25zdCB7XG4gICAgICBub2RlLFxuICAgICAgaW5kZXgsXG4gICAgICBpc0lubGluZVxuICAgIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IGtleSA9IG5vZGUuX2tleSB8fCBcIm5vZGUtXCIuY29uY2F0KGluZGV4KTtcbiAgICBpZiAoaXNQb3J0YWJsZVRleHRUb29sa2l0TGlzdChub2RlKSkge1xuICAgICAgcmV0dXJuIHJlbmRlckxpc3Qobm9kZSwgaW5kZXgsIGtleSk7XG4gICAgfVxuICAgIGlmIChpc1BvcnRhYmxlVGV4dExpc3RJdGVtQmxvY2sobm9kZSkpIHtcbiAgICAgIHJldHVybiByZW5kZXJMaXN0SXRlbShub2RlLCBpbmRleCwga2V5KTtcbiAgICB9XG4gICAgaWYgKGlzUG9ydGFibGVUZXh0VG9vbGtpdFNwYW4obm9kZSkpIHtcbiAgICAgIHJldHVybiByZW5kZXJTcGFuKG5vZGUsIGluZGV4LCBrZXkpO1xuICAgIH1cbiAgICBpZiAoaGFzQ3VzdG9tQ29tcG9uZW50Rm9yTm9kZShub2RlKSkge1xuICAgICAgcmV0dXJuIHJlbmRlckN1c3RvbUJsb2NrKG5vZGUsIGluZGV4LCBrZXksIGlzSW5saW5lKTtcbiAgICB9XG4gICAgaWYgKGlzUG9ydGFibGVUZXh0QmxvY2sobm9kZSkpIHtcbiAgICAgIHJldHVybiByZW5kZXJCbG9jayhub2RlLCBpbmRleCwga2V5LCBpc0lubGluZSk7XG4gICAgfVxuICAgIGlmIChpc1BvcnRhYmxlVGV4dFRvb2xraXRUZXh0Tm9kZShub2RlKSkge1xuICAgICAgcmV0dXJuIHJlbmRlclRleHQobm9kZSwga2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlbmRlclVua25vd25UeXBlKG5vZGUsIGluZGV4LCBrZXksIGlzSW5saW5lKTtcbiAgfVxuICBmdW5jdGlvbiBoYXNDdXN0b21Db21wb25lbnRGb3JOb2RlKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS5fdHlwZSBpbiBjb21wb25lbnRzLnR5cGVzO1xuICB9XG4gIGZ1bmN0aW9uIHJlbmRlckxpc3RJdGVtKG5vZGUsIGluZGV4LCBrZXkpIHtcbiAgICBjb25zdCB0cmVlID0gc2VyaWFsaXplQmxvY2soe1xuICAgICAgbm9kZSxcbiAgICAgIGluZGV4LFxuICAgICAgaXNJbmxpbmU6IGZhbHNlLFxuICAgICAgcmVuZGVyTm9kZVxuICAgIH0pO1xuICAgIGNvbnN0IHJlbmRlcmVyID0gY29tcG9uZW50cy5saXN0SXRlbTtcbiAgICBjb25zdCBoYW5kbGVyID0gdHlwZW9mIHJlbmRlcmVyID09PSBcImZ1bmN0aW9uXCIgPyByZW5kZXJlciA6IHJlbmRlcmVyW25vZGUubGlzdEl0ZW1dO1xuICAgIGNvbnN0IExpID0gaGFuZGxlciB8fCBjb21wb25lbnRzLnVua25vd25MaXN0SXRlbTtcbiAgICBpZiAoTGkgPT09IGNvbXBvbmVudHMudW5rbm93bkxpc3RJdGVtKSB7XG4gICAgICBjb25zdCBzdHlsZSA9IG5vZGUubGlzdEl0ZW0gfHwgXCJidWxsZXRcIjtcbiAgICAgIGhhbmRsZU1pc3NpbmdDb21wb25lbnQodW5rbm93bkxpc3RJdGVtU3R5bGVXYXJuaW5nKHN0eWxlKSwge1xuICAgICAgICB0eXBlOiBzdHlsZSxcbiAgICAgICAgbm9kZVR5cGU6IFwibGlzdEl0ZW1TdHlsZVwiXG4gICAgICB9KTtcbiAgICB9XG4gICAgbGV0IGNoaWxkcmVuID0gdHJlZS5jaGlsZHJlbjtcbiAgICBpZiAobm9kZS5zdHlsZSAmJiBub2RlLnN0eWxlICE9PSBcIm5vcm1hbFwiKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgICAgbGlzdEl0ZW1cbiAgICAgICAgfSA9IG5vZGUsXG4gICAgICAgIGJsb2NrTm9kZSA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhub2RlLCBfZXhjbHVkZWQyKTtcbiAgICAgIGNoaWxkcmVuID0gcmVuZGVyTm9kZSh7XG4gICAgICAgIG5vZGU6IGJsb2NrTm9kZSxcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIGlzSW5saW5lOiBmYWxzZSxcbiAgICAgICAgcmVuZGVyTm9kZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goTGksIHtcbiAgICAgIHZhbHVlOiBub2RlLFxuICAgICAgaW5kZXgsXG4gICAgICBpc0lubGluZTogZmFsc2UsXG4gICAgICByZW5kZXJOb2RlLFxuICAgICAgY2hpbGRyZW5cbiAgICB9LCBrZXkpO1xuICB9XG4gIGZ1bmN0aW9uIHJlbmRlckxpc3Qobm9kZSwgaW5kZXgsIGtleSkge1xuICAgIGNvbnN0IGNoaWxkcmVuID0gbm9kZS5jaGlsZHJlbi5tYXAoKGNoaWxkLCBjaGlsZEluZGV4KSA9PiByZW5kZXJOb2RlKHtcbiAgICAgIG5vZGU6IGNoaWxkLl9rZXkgPyBjaGlsZCA6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgY2hpbGQpLCB7fSwge1xuICAgICAgICBfa2V5OiBcImxpLVwiLmNvbmNhdChpbmRleCwgXCItXCIpLmNvbmNhdChjaGlsZEluZGV4KVxuICAgICAgfSksXG4gICAgICBpbmRleDogY2hpbGRJbmRleCxcbiAgICAgIGlzSW5saW5lOiBmYWxzZSxcbiAgICAgIHJlbmRlck5vZGVcbiAgICB9KSk7XG4gICAgY29uc3QgY29tcG9uZW50ID0gY29tcG9uZW50cy5saXN0O1xuICAgIGNvbnN0IGhhbmRsZXIgPSB0eXBlb2YgY29tcG9uZW50ID09PSBcImZ1bmN0aW9uXCIgPyBjb21wb25lbnQgOiBjb21wb25lbnRbbm9kZS5saXN0SXRlbV07XG4gICAgY29uc3QgTGlzdCA9IGhhbmRsZXIgfHwgY29tcG9uZW50cy51bmtub3duTGlzdDtcbiAgICBpZiAoTGlzdCA9PT0gY29tcG9uZW50cy51bmtub3duTGlzdCkge1xuICAgICAgY29uc3Qgc3R5bGUgPSBub2RlLmxpc3RJdGVtIHx8IFwiYnVsbGV0XCI7XG4gICAgICBoYW5kbGVNaXNzaW5nQ29tcG9uZW50KHVua25vd25MaXN0U3R5bGVXYXJuaW5nKHN0eWxlKSwge1xuICAgICAgICBub2RlVHlwZTogXCJsaXN0U3R5bGVcIixcbiAgICAgICAgdHlwZTogc3R5bGVcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KExpc3QsIHtcbiAgICAgIHZhbHVlOiBub2RlLFxuICAgICAgaW5kZXgsXG4gICAgICBpc0lubGluZTogZmFsc2UsXG4gICAgICByZW5kZXJOb2RlLFxuICAgICAgY2hpbGRyZW5cbiAgICB9LCBrZXkpO1xuICB9XG4gIGZ1bmN0aW9uIHJlbmRlclNwYW4obm9kZSwgX2luZGV4LCBrZXkpIHtcbiAgICBjb25zdCB7XG4gICAgICBtYXJrRGVmLFxuICAgICAgbWFya1R5cGUsXG4gICAgICBtYXJrS2V5XG4gICAgfSA9IG5vZGU7XG4gICAgY29uc3QgU3BhbiA9IGNvbXBvbmVudHMubWFya3NbbWFya1R5cGVdIHx8IGNvbXBvbmVudHMudW5rbm93bk1hcms7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuLm1hcCgoY2hpbGQsIGNoaWxkSW5kZXgpID0+IHJlbmRlck5vZGUoe1xuICAgICAgbm9kZTogY2hpbGQsXG4gICAgICBpbmRleDogY2hpbGRJbmRleCxcbiAgICAgIGlzSW5saW5lOiB0cnVlLFxuICAgICAgcmVuZGVyTm9kZVxuICAgIH0pKTtcbiAgICBpZiAoU3BhbiA9PT0gY29tcG9uZW50cy51bmtub3duTWFyaykge1xuICAgICAgaGFuZGxlTWlzc2luZ0NvbXBvbmVudCh1bmtub3duTWFya1dhcm5pbmcobWFya1R5cGUpLCB7XG4gICAgICAgIG5vZGVUeXBlOiBcIm1hcmtcIixcbiAgICAgICAgdHlwZTogbWFya1R5cGVcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFNwYW4sIHtcbiAgICAgIHRleHQ6IHNwYW5Ub1BsYWluVGV4dChub2RlKSxcbiAgICAgIHZhbHVlOiBtYXJrRGVmLFxuICAgICAgbWFya1R5cGUsXG4gICAgICBtYXJrS2V5LFxuICAgICAgcmVuZGVyTm9kZSxcbiAgICAgIGNoaWxkcmVuXG4gICAgfSwga2V5KTtcbiAgfVxuICBmdW5jdGlvbiByZW5kZXJCbG9jayhub2RlLCBpbmRleCwga2V5LCBpc0lubGluZSkge1xuICAgIGNvbnN0IF9zZXJpYWxpemVCbG9jayA9IHNlcmlhbGl6ZUJsb2NrKHtcbiAgICAgICAgbm9kZSxcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIGlzSW5saW5lLFxuICAgICAgICByZW5kZXJOb2RlXG4gICAgICB9KSxcbiAgICAgIHtcbiAgICAgICAgX2tleVxuICAgICAgfSA9IF9zZXJpYWxpemVCbG9jayxcbiAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9zZXJpYWxpemVCbG9jaywgX2V4Y2x1ZGVkMyk7XG4gICAgY29uc3Qgc3R5bGUgPSBwcm9wcy5ub2RlLnN0eWxlIHx8IFwibm9ybWFsXCI7XG4gICAgY29uc3QgaGFuZGxlciA9IHR5cGVvZiBjb21wb25lbnRzLmJsb2NrID09PSBcImZ1bmN0aW9uXCIgPyBjb21wb25lbnRzLmJsb2NrIDogY29tcG9uZW50cy5ibG9ja1tzdHlsZV07XG4gICAgY29uc3QgQmxvY2sgPSBoYW5kbGVyIHx8IGNvbXBvbmVudHMudW5rbm93bkJsb2NrU3R5bGU7XG4gICAgaWYgKEJsb2NrID09PSBjb21wb25lbnRzLnVua25vd25CbG9ja1N0eWxlKSB7XG4gICAgICBoYW5kbGVNaXNzaW5nQ29tcG9uZW50KHVua25vd25CbG9ja1N0eWxlV2FybmluZyhzdHlsZSksIHtcbiAgICAgICAgbm9kZVR5cGU6IFwiYmxvY2tTdHlsZVwiLFxuICAgICAgICB0eXBlOiBzdHlsZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goQmxvY2ssIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcHJvcHMpLCB7fSwge1xuICAgICAgdmFsdWU6IHByb3BzLm5vZGUsXG4gICAgICByZW5kZXJOb2RlXG4gICAgfSksIGtleSk7XG4gIH1cbiAgZnVuY3Rpb24gcmVuZGVyVGV4dChub2RlLCBrZXkpIHtcbiAgICBpZiAobm9kZS50ZXh0ID09PSBcIlxcblwiKSB7XG4gICAgICBjb25zdCBIYXJkQnJlYWsgPSBjb21wb25lbnRzLmhhcmRCcmVhaztcbiAgICAgIHJldHVybiBIYXJkQnJlYWsgPyAvKiBAX19QVVJFX18gKi9qc3goSGFyZEJyZWFrLCB7fSwga2V5KSA6IFwiXFxuXCI7XG4gICAgfVxuICAgIHJldHVybiBub2RlLnRleHQ7XG4gIH1cbiAgZnVuY3Rpb24gcmVuZGVyVW5rbm93blR5cGUobm9kZSwgaW5kZXgsIGtleSwgaXNJbmxpbmUpIHtcbiAgICBjb25zdCBub2RlT3B0aW9ucyA9IHtcbiAgICAgIHZhbHVlOiBub2RlLFxuICAgICAgaXNJbmxpbmUsXG4gICAgICBpbmRleCxcbiAgICAgIHJlbmRlck5vZGVcbiAgICB9O1xuICAgIGhhbmRsZU1pc3NpbmdDb21wb25lbnQodW5rbm93blR5cGVXYXJuaW5nKG5vZGUuX3R5cGUpLCB7XG4gICAgICBub2RlVHlwZTogXCJibG9ja1wiLFxuICAgICAgdHlwZTogbm9kZS5fdHlwZVxuICAgIH0pO1xuICAgIGNvbnN0IFVua25vd25UeXBlID0gY29tcG9uZW50cy51bmtub3duVHlwZTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFVua25vd25UeXBlLCBfb2JqZWN0U3ByZWFkKHt9LCBub2RlT3B0aW9ucyksIGtleSk7XG4gIH1cbiAgZnVuY3Rpb24gcmVuZGVyQ3VzdG9tQmxvY2sobm9kZSwgaW5kZXgsIGtleSwgaXNJbmxpbmUpIHtcbiAgICBjb25zdCBub2RlT3B0aW9ucyA9IHtcbiAgICAgIHZhbHVlOiBub2RlLFxuICAgICAgaXNJbmxpbmUsXG4gICAgICBpbmRleCxcbiAgICAgIHJlbmRlck5vZGVcbiAgICB9O1xuICAgIGNvbnN0IE5vZGUgPSBjb21wb25lbnRzLnR5cGVzW25vZGUuX3R5cGVdO1xuICAgIHJldHVybiBOb2RlID8gLyogQF9fUFVSRV9fICovanN4KE5vZGUsIF9vYmplY3RTcHJlYWQoe30sIG5vZGVPcHRpb25zKSwga2V5KSA6IG51bGw7XG4gIH1cbiAgcmV0dXJuIHJlbmRlck5vZGU7XG59O1xuZnVuY3Rpb24gc2VyaWFsaXplQmxvY2sob3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgbm9kZSxcbiAgICBpbmRleCxcbiAgICBpc0lubGluZSxcbiAgICByZW5kZXJOb2RlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB0cmVlID0gYnVpbGRNYXJrc1RyZWUobm9kZSk7XG4gIGNvbnN0IGNoaWxkcmVuID0gdHJlZS5tYXAoKGNoaWxkLCBpKSA9PiByZW5kZXJOb2RlKHtcbiAgICBub2RlOiBjaGlsZCxcbiAgICBpc0lubGluZTogdHJ1ZSxcbiAgICBpbmRleDogaSxcbiAgICByZW5kZXJOb2RlXG4gIH0pKTtcbiAgcmV0dXJuIHtcbiAgICBfa2V5OiBub2RlLl9rZXkgfHwgXCJibG9jay1cIi5jb25jYXQoaW5kZXgpLFxuICAgIGNoaWxkcmVuLFxuICAgIGluZGV4LFxuICAgIGlzSW5saW5lLFxuICAgIG5vZGVcbiAgfTtcbn1cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuZXhwb3J0IHsgUG9ydGFibGVUZXh0LCBkZWZhdWx0Q29tcG9uZW50cywgbWVyZ2VDb21wb25lbnRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfZXhjbHVkZWQiLCJfZXhjbHVkZWQyIiwiX2V4Y2x1ZGVkMyIsIm93bktleXMiLCJlIiwiciIsInQiLCJPYmplY3QiLCJrZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibyIsImZpbHRlciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiZm9yRWFjaCIsIl9kZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVmaW5lUHJvcGVydHkiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsIl90b1Byb3BlcnR5S2V5IiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJhcmciLCJfdG9QcmltaXRpdmUiLCJTdHJpbmciLCJpbnB1dCIsImhpbnQiLCJwcmltIiwiU3ltYm9sIiwidG9QcmltaXRpdmUiLCJ1bmRlZmluZWQiLCJyZXMiLCJjYWxsIiwiVHlwZUVycm9yIiwiTnVtYmVyIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiwic291cmNlIiwiZXhjbHVkZWQiLCJ0YXJnZXQiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSIsImkiLCJzb3VyY2VTeW1ib2xLZXlzIiwiaW5kZXhPZiIsInByb3RvdHlwZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwic291cmNlS2V5cyIsIm5lc3RMaXN0cyIsIkxJU1RfTkVTVF9NT0RFX0hUTUwiLCJpc1BvcnRhYmxlVGV4dFRvb2xraXRMaXN0IiwiaXNQb3J0YWJsZVRleHRMaXN0SXRlbUJsb2NrIiwiaXNQb3J0YWJsZVRleHRUb29sa2l0U3BhbiIsImlzUG9ydGFibGVUZXh0QmxvY2siLCJpc1BvcnRhYmxlVGV4dFRvb2xraXRUZXh0Tm9kZSIsInNwYW5Ub1BsYWluVGV4dCIsImJ1aWxkTWFya3NUcmVlIiwidG9QbGFpblRleHQiLCJqc3giLCJGcmFnbWVudCIsInVzZU1lbW8iLCJtZXJnZUNvbXBvbmVudHMiLCJwYXJlbnQiLCJvdmVycmlkZXMiLCJibG9jayIsImxpc3QiLCJsaXN0SXRlbSIsIm1hcmtzIiwidHlwZXMiLCJyZXN0IiwibWVyZ2VEZWVwbHkiLCJvdmVycmlkZSIsInBhcmVudFZhbCIsImxpbmsiLCJfcmVmIiwiY2hpbGRyZW4iLCJocmVmIiwidW5kZXJsaW5lU3R5bGUiLCJ0ZXh0RGVjb3JhdGlvbiIsImRlZmF1bHRNYXJrcyIsImVtIiwiX3JlZjIiLCJzdHJvbmciLCJfcmVmMyIsImNvZGUiLCJfcmVmNCIsInVuZGVybGluZSIsIl9yZWY1Iiwic3R5bGUiLCJfcmVmNiIsImRlZmF1bHRMaXN0cyIsIm51bWJlciIsIl9yZWY3IiwiYnVsbGV0IiwiX3JlZjgiLCJEZWZhdWx0TGlzdEl0ZW0iLCJfcmVmOSIsImdldFRlbXBsYXRlIiwidHlwZSIsInByb3AiLCJjb25jYXQiLCJ1bmtub3duVHlwZVdhcm5pbmciLCJ0eXBlTmFtZSIsInVua25vd25NYXJrV2FybmluZyIsIm1hcmtUeXBlIiwidW5rbm93bkJsb2NrU3R5bGVXYXJuaW5nIiwiYmxvY2tTdHlsZSIsInVua25vd25MaXN0U3R5bGVXYXJuaW5nIiwibGlzdFN0eWxlIiwidW5rbm93bkxpc3RJdGVtU3R5bGVXYXJuaW5nIiwicHJpbnRXYXJuaW5nIiwibWVzc2FnZSIsImNvbnNvbGUiLCJ3YXJuIiwiaGlkZGVuIiwiZGlzcGxheSIsIkRlZmF1bHRVbmtub3duVHlwZSIsIl9yZWYxMCIsImlzSW5saW5lIiwid2FybmluZyIsIl90eXBlIiwiRGVmYXVsdFVua25vd25NYXJrIiwiX3JlZjExIiwiY2xhc3NOYW1lIiwiRGVmYXVsdFVua25vd25CbG9ja1N0eWxlIiwiX3JlZjEyIiwiRGVmYXVsdFVua25vd25MaXN0IiwiX3JlZjEzIiwiRGVmYXVsdFVua25vd25MaXN0SXRlbSIsIl9yZWYxNCIsIkRlZmF1bHRIYXJkQnJlYWsiLCJkZWZhdWx0QmxvY2tTdHlsZXMiLCJub3JtYWwiLCJfcmVmMTUiLCJibG9ja3F1b3RlIiwiX3JlZjE2IiwiaDEiLCJfcmVmMTciLCJoMiIsIl9yZWYxOCIsImgzIiwiX3JlZjE5IiwiaDQiLCJfcmVmMjAiLCJoNSIsIl9yZWYyMSIsImg2IiwiX3JlZjIyIiwiZGVmYXVsdENvbXBvbmVudHMiLCJoYXJkQnJlYWsiLCJ1bmtub3duVHlwZSIsInVua25vd25NYXJrIiwidW5rbm93bkxpc3QiLCJ1bmtub3duTGlzdEl0ZW0iLCJ1bmtub3duQmxvY2tTdHlsZSIsIlBvcnRhYmxlVGV4dCIsIl9yZWYyMyIsImNvbXBvbmVudHMiLCJjb21wb25lbnRPdmVycmlkZXMiLCJsaXN0TmVzdGluZ01vZGUiLCJvbk1pc3NpbmdDb21wb25lbnQiLCJtaXNzaW5nQ29tcG9uZW50SGFuZGxlciIsImhhbmRsZU1pc3NpbmdDb21wb25lbnQiLCJub29wIiwiYmxvY2tzIiwiQXJyYXkiLCJpc0FycmF5IiwibmVzdGVkIiwicmVuZGVyTm9kZSIsImdldE5vZGVSZW5kZXJlciIsInJlbmRlcmVkIiwibWFwIiwibm9kZSIsImluZGV4Iiwib3B0aW9ucyIsIl9rZXkiLCJyZW5kZXJMaXN0IiwicmVuZGVyTGlzdEl0ZW0iLCJyZW5kZXJTcGFuIiwiaGFzQ3VzdG9tQ29tcG9uZW50Rm9yTm9kZSIsInJlbmRlckN1c3RvbUJsb2NrIiwicmVuZGVyQmxvY2siLCJyZW5kZXJUZXh0IiwicmVuZGVyVW5rbm93blR5cGUiLCJ0cmVlIiwic2VyaWFsaXplQmxvY2siLCJyZW5kZXJlciIsImhhbmRsZXIiLCJMaSIsIm5vZGVUeXBlIiwiYmxvY2tOb2RlIiwiY2hpbGQiLCJjaGlsZEluZGV4IiwiY29tcG9uZW50IiwiTGlzdCIsIl9pbmRleCIsIm1hcmtEZWYiLCJtYXJrS2V5IiwiU3BhbiIsInRleHQiLCJfc2VyaWFsaXplQmxvY2siLCJwcm9wcyIsIkJsb2NrIiwiSGFyZEJyZWFrIiwibm9kZU9wdGlvbnMiLCJVbmtub3duVHlwZSIsIk5vZGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@portabletext/react/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@portabletext/toolkit/dist/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@portabletext/toolkit/dist/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LIST_NEST_MODE_DIRECT: () => (/* binding */ LIST_NEST_MODE_DIRECT),\n/* harmony export */   LIST_NEST_MODE_HTML: () => (/* binding */ LIST_NEST_MODE_HTML),\n/* harmony export */   buildMarksTree: () => (/* binding */ buildMarksTree),\n/* harmony export */   isPortableTextBlock: () => (/* binding */ isPortableTextBlock),\n/* harmony export */   isPortableTextListItemBlock: () => (/* binding */ isPortableTextListItemBlock),\n/* harmony export */   isPortableTextSpan: () => (/* binding */ isPortableTextSpan),\n/* harmony export */   isPortableTextToolkitList: () => (/* binding */ isPortableTextToolkitList),\n/* harmony export */   isPortableTextToolkitSpan: () => (/* binding */ isPortableTextToolkitSpan),\n/* harmony export */   isPortableTextToolkitTextNode: () => (/* binding */ isPortableTextToolkitTextNode),\n/* harmony export */   nestLists: () => (/* binding */ nestLists),\n/* harmony export */   sortMarksByOccurences: () => (/* binding */ sortMarksByOccurences),\n/* harmony export */   spanToPlainText: () => (/* binding */ spanToPlainText),\n/* harmony export */   toPlainText: () => (/* binding */ toPlainText)\n/* harmony export */ });\nfunction ownKeys(e, r) {\n    var t = Object.keys(e);\n    if (Object.getOwnPropertySymbols) {\n        var o = Object.getOwnPropertySymbols(e);\n        r && (o = o.filter(function(r) {\n            return Object.getOwnPropertyDescriptor(e, r).enumerable;\n        })), t.push.apply(t, o);\n    }\n    return t;\n}\nfunction _objectSpread(e) {\n    for(var r = 1; r < arguments.length; r++){\n        var t = null != arguments[r] ? arguments[r] : {};\n        r % 2 ? ownKeys(Object(t), !0).forEach(function(r) {\n            _defineProperty(e, r, t[r]);\n        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function(r) {\n            Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n        });\n    }\n    return e;\n}\nfunction _defineProperty(obj, key, value) {\n    key = _toPropertyKey(key);\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _toPropertyKey(arg) {\n    var key = _toPrimitive(arg, \"string\");\n    return typeof key === \"symbol\" ? key : String(key);\n}\nfunction _toPrimitive(input, hint) {\n    if (typeof input !== \"object\" || input === null) return input;\n    var prim = input[Symbol.toPrimitive];\n    if (prim !== undefined) {\n        var res = prim.call(input, hint || \"default\");\n        if (typeof res !== \"object\") return res;\n        throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (hint === \"string\" ? String : Number)(input);\n}\nfunction isPortableTextSpan(node) {\n    return node._type === \"span\" && \"text\" in node && typeof node.text === \"string\" && (typeof node.marks === \"undefined\" || Array.isArray(node.marks) && node.marks.every((mark)=>typeof mark === \"string\"));\n}\nfunction isPortableTextBlock(node) {\n    return(// A block doesn't _have_ to be named 'block' - to differentiate between\n    // allowed child types and marks, one might name them differently\n    typeof node._type === \"string\" && // Toolkit-types like nested spans are @-prefixed\n    node._type[0] !== \"@\" && // `markDefs` isn't _required_ per say, but if it's there, it needs to be an array\n    (!(\"markDefs\" in node) || !node.markDefs || Array.isArray(node.markDefs) && // Every mark definition needs to have an `_key` to be mappable in child spans\n    node.markDefs.every((def)=>typeof def._key === \"string\")) && // `children` is required and needs to be an array\n    \"children\" in node && Array.isArray(node.children) && // All children are objects with `_type` (usually spans, but can contain other stuff)\n    node.children.every((child)=>typeof child === \"object\" && \"_type\" in child));\n}\nfunction isPortableTextListItemBlock(block) {\n    return isPortableTextBlock(block) && \"listItem\" in block && typeof block.listItem === \"string\" && (typeof block.level === \"undefined\" || typeof block.level === \"number\");\n}\nfunction isPortableTextToolkitList(block) {\n    return block._type === \"@list\";\n}\nfunction isPortableTextToolkitSpan(span) {\n    return span._type === \"@span\";\n}\nfunction isPortableTextToolkitTextNode(node) {\n    return node._type === \"@text\";\n}\nconst knownDecorators = [\n    \"strong\",\n    \"em\",\n    \"code\",\n    \"underline\",\n    \"strike-through\"\n];\nfunction sortMarksByOccurences(span, index, blockChildren) {\n    if (!isPortableTextSpan(span) || !span.marks) {\n        return [];\n    }\n    if (!span.marks.length) {\n        return [];\n    }\n    const marks = span.marks.slice();\n    const occurences = {};\n    marks.forEach((mark)=>{\n        occurences[mark] = 1;\n        for(let siblingIndex = index + 1; siblingIndex < blockChildren.length; siblingIndex++){\n            const sibling = blockChildren[siblingIndex];\n            if (sibling && isPortableTextSpan(sibling) && Array.isArray(sibling.marks) && sibling.marks.indexOf(mark) !== -1) {\n                occurences[mark]++;\n            } else {\n                break;\n            }\n        }\n    });\n    return marks.sort((markA, markB)=>sortMarks(occurences, markA, markB));\n}\nfunction sortMarks(occurences, markA, markB) {\n    const aOccurences = occurences[markA];\n    const bOccurences = occurences[markB];\n    if (aOccurences !== bOccurences) {\n        return bOccurences - aOccurences;\n    }\n    const aKnownPos = knownDecorators.indexOf(markA);\n    const bKnownPos = knownDecorators.indexOf(markB);\n    if (aKnownPos !== bKnownPos) {\n        return aKnownPos - bKnownPos;\n    }\n    return markA.localeCompare(markB);\n}\nfunction buildMarksTree(block) {\n    var _a;\n    const { children, markDefs = [] } = block;\n    if (!children || !children.length) {\n        return [];\n    }\n    const sortedMarks = children.map(sortMarksByOccurences);\n    const rootNode = {\n        _type: \"@span\",\n        children: [],\n        markType: \"<unknown>\"\n    };\n    let nodeStack = [\n        rootNode\n    ];\n    for(let i = 0; i < children.length; i++){\n        const span = children[i];\n        if (!span) {\n            continue;\n        }\n        const marksNeeded = sortedMarks[i] || [];\n        let pos = 1;\n        if (nodeStack.length > 1) {\n            for(pos; pos < nodeStack.length; pos++){\n                const mark = ((_a = nodeStack[pos]) == null ? void 0 : _a.markKey) || \"\";\n                const index = marksNeeded.indexOf(mark);\n                if (index === -1) {\n                    break;\n                }\n                marksNeeded.splice(index, 1);\n            }\n        }\n        nodeStack = nodeStack.slice(0, pos);\n        let currentNode = nodeStack[nodeStack.length - 1];\n        if (!currentNode) {\n            continue;\n        }\n        for (const markKey of marksNeeded){\n            const markDef = markDefs.find((def)=>def._key === markKey);\n            const markType = markDef ? markDef._type : markKey;\n            const node = {\n                _type: \"@span\",\n                _key: span._key,\n                children: [],\n                markDef,\n                markType,\n                markKey\n            };\n            currentNode.children.push(node);\n            nodeStack.push(node);\n            currentNode = node;\n        }\n        if (isPortableTextSpan(span)) {\n            const lines = span.text.split(\"\\n\");\n            for(let line = lines.length; line-- > 1;){\n                lines.splice(line, 0, \"\\n\");\n            }\n            currentNode.children = currentNode.children.concat(lines.map((text)=>({\n                    _type: \"@text\",\n                    text\n                })));\n        } else {\n            currentNode.children = currentNode.children.concat(span);\n        }\n    }\n    return rootNode.children;\n}\nfunction nestLists(blocks, mode) {\n    const tree = [];\n    let currentList;\n    for(let i = 0; i < blocks.length; i++){\n        const block = blocks[i];\n        if (!block) {\n            continue;\n        }\n        if (!isPortableTextListItemBlock(block)) {\n            tree.push(block);\n            currentList = void 0;\n            continue;\n        }\n        if (!currentList) {\n            currentList = listFromBlock(block, i, mode);\n            tree.push(currentList);\n            continue;\n        }\n        if (blockMatchesList(block, currentList)) {\n            currentList.children.push(block);\n            continue;\n        }\n        if ((block.level || 1) > currentList.level) {\n            const newList = listFromBlock(block, i, mode);\n            if (mode === \"html\") {\n                const lastListItem = currentList.children[currentList.children.length - 1];\n                const newLastChild = _objectSpread(_objectSpread({}, lastListItem), {}, {\n                    children: [\n                        ...lastListItem.children,\n                        newList\n                    ]\n                });\n                currentList.children[currentList.children.length - 1] = newLastChild;\n            } else {\n                currentList.children.push(newList);\n            }\n            currentList = newList;\n            continue;\n        }\n        if ((block.level || 1) < currentList.level) {\n            const matchingBranch = tree[tree.length - 1];\n            const match = matchingBranch && findListMatching(matchingBranch, block);\n            if (match) {\n                currentList = match;\n                currentList.children.push(block);\n                continue;\n            }\n            currentList = listFromBlock(block, i, mode);\n            tree.push(currentList);\n            continue;\n        }\n        if (block.listItem !== currentList.listItem) {\n            const matchingBranch = tree[tree.length - 1];\n            const match = matchingBranch && findListMatching(matchingBranch, {\n                level: block.level || 1\n            });\n            if (match && match.listItem === block.listItem) {\n                currentList = match;\n                currentList.children.push(block);\n                continue;\n            } else {\n                currentList = listFromBlock(block, i, mode);\n                tree.push(currentList);\n                continue;\n            }\n        }\n        console.warn(\"Unknown state encountered for block\", block);\n        tree.push(block);\n    }\n    return tree;\n}\nfunction blockMatchesList(block, list) {\n    return (block.level || 1) === list.level && block.listItem === list.listItem;\n}\nfunction listFromBlock(block, index, mode) {\n    return {\n        _type: \"@list\",\n        _key: \"\".concat(block._key || \"\".concat(index), \"-parent\"),\n        mode,\n        level: block.level || 1,\n        listItem: block.listItem,\n        children: [\n            block\n        ]\n    };\n}\nfunction findListMatching(rootNode, matching) {\n    const level = matching.level || 1;\n    const style = matching.listItem || \"normal\";\n    const filterOnType = typeof matching.listItem === \"string\";\n    if (isPortableTextToolkitList(rootNode) && (rootNode.level || 1) === level && filterOnType && (rootNode.listItem || \"normal\") === style) {\n        return rootNode;\n    }\n    if (!(\"children\" in rootNode)) {\n        return void 0;\n    }\n    const node = rootNode.children[rootNode.children.length - 1];\n    return node && !isPortableTextSpan(node) ? findListMatching(node, matching) : void 0;\n}\nconst leadingSpace = /^\\s/;\nconst trailingSpace = /^\\s/;\nfunction toPlainText(block) {\n    const blocks = Array.isArray(block) ? block : [\n        block\n    ];\n    let text = \"\";\n    blocks.forEach((current, index)=>{\n        if (!isPortableTextBlock(current)) {\n            return;\n        }\n        let pad = false;\n        current.children.forEach((span)=>{\n            if (isPortableTextSpan(span)) {\n                text += pad && text && !trailingSpace.test(text) && !leadingSpace.test(span.text) ? \" \" : \"\";\n                text += span.text;\n                pad = false;\n            } else {\n                pad = true;\n            }\n        });\n        if (index !== blocks.length - 1) {\n            text += \"\\n\\n\";\n        }\n    });\n    return text;\n}\nfunction spanToPlainText(span) {\n    let text = \"\";\n    span.children.forEach((current)=>{\n        if (isPortableTextToolkitTextNode(current)) {\n            text += current.text;\n        } else if (isPortableTextToolkitSpan(current)) {\n            text += spanToPlainText(current);\n        }\n    });\n    return text;\n}\nconst LIST_NEST_MODE_HTML = \"html\";\nconst LIST_NEST_MODE_DIRECT = \"direct\";\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHBvcnRhYmxldGV4dC90b29sa2l0L2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLFNBQVNBLFFBQVFDLENBQUMsRUFBRUMsQ0FBQztJQUFJLElBQUlDLElBQUlDLE9BQU9DLElBQUksQ0FBQ0o7SUFBSSxJQUFJRyxPQUFPRSxxQkFBcUIsRUFBRTtRQUFFLElBQUlDLElBQUlILE9BQU9FLHFCQUFxQixDQUFDTDtRQUFJQyxLQUFNSyxDQUFBQSxJQUFJQSxFQUFFQyxNQUFNLENBQUMsU0FBVU4sQ0FBQztZQUFJLE9BQU9FLE9BQU9LLHdCQUF3QixDQUFDUixHQUFHQyxHQUFHUSxVQUFVO1FBQUUsRUFBQyxHQUFJUCxFQUFFUSxJQUFJLENBQUNDLEtBQUssQ0FBQ1QsR0FBR0k7SUFBSTtJQUFFLE9BQU9KO0FBQUc7QUFDOVAsU0FBU1UsY0FBY1osQ0FBQztJQUFJLElBQUssSUFBSUMsSUFBSSxHQUFHQSxJQUFJWSxVQUFVQyxNQUFNLEVBQUViLElBQUs7UUFBRSxJQUFJQyxJQUFJLFFBQVFXLFNBQVMsQ0FBQ1osRUFBRSxHQUFHWSxTQUFTLENBQUNaLEVBQUUsR0FBRyxDQUFDO1FBQUdBLElBQUksSUFBSUYsUUFBUUksT0FBT0QsSUFBSSxDQUFDLEdBQUdhLE9BQU8sQ0FBQyxTQUFVZCxDQUFDO1lBQUllLGdCQUFnQmhCLEdBQUdDLEdBQUdDLENBQUMsQ0FBQ0QsRUFBRTtRQUFHLEtBQUtFLE9BQU9jLHlCQUF5QixHQUFHZCxPQUFPZSxnQkFBZ0IsQ0FBQ2xCLEdBQUdHLE9BQU9jLHlCQUF5QixDQUFDZixNQUFNSCxRQUFRSSxPQUFPRCxJQUFJYSxPQUFPLENBQUMsU0FBVWQsQ0FBQztZQUFJRSxPQUFPZ0IsY0FBYyxDQUFDbkIsR0FBR0MsR0FBR0UsT0FBT0ssd0JBQXdCLENBQUNOLEdBQUdEO1FBQUs7SUFBSTtJQUFFLE9BQU9EO0FBQUc7QUFDdGIsU0FBU2dCLGdCQUFnQkksR0FBRyxF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QUFJMUQsVUFBVW9DLE9BQU90RixNQUFNLEdBQUcsR0FBRztZQUMvQjRCLFFBQVE7UUFDVjtJQUNGO0lBQ0EsT0FBT0E7QUFDVDtBQUNBLFNBQVNrRixnQkFBZ0JoRSxJQUFJO0lBQzNCLElBQUlsQixPQUFPO0lBQ1hrQixLQUFLUixRQUFRLENBQUNyQyxPQUFPLENBQUMwRyxDQUFBQTtRQUNwQixJQUFJNUQsOEJBQThCNEQsVUFBVTtZQUMxQy9FLFFBQVErRSxRQUFRL0UsSUFBSTtRQUN0QixPQUFPLElBQUlpQiwwQkFBMEI4RCxVQUFVO1lBQzdDL0UsUUFBUWtGLGdCQUFnQkg7UUFDMUI7SUFDRjtJQUNBLE9BQU8vRTtBQUNUO0FBQ0EsTUFBTW1GLHNCQUFzQjtBQUM1QixNQUFNQyx3QkFBd0I7QUFDbVEsQ0FDalMsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9ydGZvbGlvLy4vbm9kZV9tb2R1bGVzL0Bwb3J0YWJsZXRleHQvdG9vbGtpdC9kaXN0L2luZGV4LmpzP2IwNGMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGtleSA9IF90b1Byb3BlcnR5S2V5KGtleSk7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7IHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTsgcmV0dXJuIHR5cGVvZiBrZXkgPT09IFwic3ltYm9sXCIgPyBrZXkgOiBTdHJpbmcoa2V5KTsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKGlucHV0LCBoaW50KSB7IGlmICh0eXBlb2YgaW5wdXQgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDsgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7IHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgXCJkZWZhdWx0XCIpOyBpZiAodHlwZW9mIHJlcyAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHJlczsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpOyB9XG5mdW5jdGlvbiBpc1BvcnRhYmxlVGV4dFNwYW4obm9kZSkge1xuICByZXR1cm4gbm9kZS5fdHlwZSA9PT0gXCJzcGFuXCIgJiYgXCJ0ZXh0XCIgaW4gbm9kZSAmJiB0eXBlb2Ygbm9kZS50ZXh0ID09PSBcInN0cmluZ1wiICYmICh0eXBlb2Ygbm9kZS5tYXJrcyA9PT0gXCJ1bmRlZmluZWRcIiB8fCBBcnJheS5pc0FycmF5KG5vZGUubWFya3MpICYmIG5vZGUubWFya3MuZXZlcnkobWFyayA9PiB0eXBlb2YgbWFyayA9PT0gXCJzdHJpbmdcIikpO1xufVxuZnVuY3Rpb24gaXNQb3J0YWJsZVRleHRCbG9jayhub2RlKSB7XG4gIHJldHVybiAoXG4gICAgLy8gQSBibG9jayBkb2Vzbid0IF9oYXZlXyB0byBiZSBuYW1lZCAnYmxvY2snIC0gdG8gZGlmZmVyZW50aWF0ZSBiZXR3ZWVuXG4gICAgLy8gYWxsb3dlZCBjaGlsZCB0eXBlcyBhbmQgbWFya3MsIG9uZSBtaWdodCBuYW1lIHRoZW0gZGlmZmVyZW50bHlcbiAgICB0eXBlb2Ygbm9kZS5fdHlwZSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgIC8vIFRvb2xraXQtdHlwZXMgbGlrZSBuZXN0ZWQgc3BhbnMgYXJlIEAtcHJlZml4ZWRcbiAgICBub2RlLl90eXBlWzBdICE9PSBcIkBcIiAmJiAoXG4gICAgLy8gYG1hcmtEZWZzYCBpc24ndCBfcmVxdWlyZWRfIHBlciBzYXksIGJ1dCBpZiBpdCdzIHRoZXJlLCBpdCBuZWVkcyB0byBiZSBhbiBhcnJheVxuICAgICEoXCJtYXJrRGVmc1wiIGluIG5vZGUpIHx8ICFub2RlLm1hcmtEZWZzIHx8IEFycmF5LmlzQXJyYXkobm9kZS5tYXJrRGVmcykgJiZcbiAgICAvLyBFdmVyeSBtYXJrIGRlZmluaXRpb24gbmVlZHMgdG8gaGF2ZSBhbiBgX2tleWAgdG8gYmUgbWFwcGFibGUgaW4gY2hpbGQgc3BhbnNcbiAgICBub2RlLm1hcmtEZWZzLmV2ZXJ5KGRlZiA9PiB0eXBlb2YgZGVmLl9rZXkgPT09IFwic3RyaW5nXCIpKSAmJlxuICAgIC8vIGBjaGlsZHJlbmAgaXMgcmVxdWlyZWQgYW5kIG5lZWRzIHRvIGJlIGFuIGFycmF5XG4gICAgXCJjaGlsZHJlblwiIGluIG5vZGUgJiYgQXJyYXkuaXNBcnJheShub2RlLmNoaWxkcmVuKSAmJlxuICAgIC8vIEFsbCBjaGlsZHJlbiBhcmUgb2JqZWN0cyB3aXRoIGBfdHlwZWAgKHVzdWFsbHkgc3BhbnMsIGJ1dCBjYW4gY29udGFpbiBvdGhlciBzdHVmZilcbiAgICBub2RlLmNoaWxkcmVuLmV2ZXJ5KGNoaWxkID0+IHR5cGVvZiBjaGlsZCA9PT0gXCJvYmplY3RcIiAmJiBcIl90eXBlXCIgaW4gY2hpbGQpXG4gICk7XG59XG5mdW5jdGlvbiBpc1BvcnRhYmxlVGV4dExpc3RJdGVtQmxvY2soYmxvY2spIHtcbiAgcmV0dXJuIGlzUG9ydGFibGVUZXh0QmxvY2soYmxvY2spICYmIFwibGlzdEl0ZW1cIiBpbiBibG9jayAmJiB0eXBlb2YgYmxvY2subGlzdEl0ZW0gPT09IFwic3RyaW5nXCIgJiYgKHR5cGVvZiBibG9jay5sZXZlbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgYmxvY2subGV2ZWwgPT09IFwibnVtYmVyXCIpO1xufVxuZnVuY3Rpb24gaXNQb3J0YWJsZVRleHRUb29sa2l0TGlzdChibG9jaykge1xuICByZXR1cm4gYmxvY2suX3R5cGUgPT09IFwiQGxpc3RcIjtcbn1cbmZ1bmN0aW9uIGlzUG9ydGFibGVUZXh0VG9vbGtpdFNwYW4oc3Bhbikge1xuICByZXR1cm4gc3Bhbi5fdHlwZSA9PT0gXCJAc3BhblwiO1xufVxuZnVuY3Rpb24gaXNQb3J0YWJsZVRleHRUb29sa2l0VGV4dE5vZGUobm9kZSkge1xuICByZXR1cm4gbm9kZS5fdHlwZSA9PT0gXCJAdGV4dFwiO1xufVxuY29uc3Qga25vd25EZWNvcmF0b3JzID0gW1wic3Ryb25nXCIsIFwiZW1cIiwgXCJjb2RlXCIsIFwidW5kZXJsaW5lXCIsIFwic3RyaWtlLXRocm91Z2hcIl07XG5mdW5jdGlvbiBzb3J0TWFya3NCeU9jY3VyZW5jZXMoc3BhbiwgaW5kZXgsIGJsb2NrQ2hpbGRyZW4pIHtcbiAgaWYgKCFpc1BvcnRhYmxlVGV4dFNwYW4oc3BhbikgfHwgIXNwYW4ubWFya3MpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgaWYgKCFzcGFuLm1hcmtzLmxlbmd0aCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBjb25zdCBtYXJrcyA9IHNwYW4ubWFya3Muc2xpY2UoKTtcbiAgY29uc3Qgb2NjdXJlbmNlcyA9IHt9O1xuICBtYXJrcy5mb3JFYWNoKG1hcmsgPT4ge1xuICAgIG9jY3VyZW5jZXNbbWFya10gPSAxO1xuICAgIGZvciAobGV0IHNpYmxpbmdJbmRleCA9IGluZGV4ICsgMTsgc2libGluZ0luZGV4IDwgYmxvY2tDaGlsZHJlbi5sZW5ndGg7IHNpYmxpbmdJbmRleCsrKSB7XG4gICAgICBjb25zdCBzaWJsaW5nID0gYmxvY2tDaGlsZHJlbltzaWJsaW5nSW5kZXhdO1xuICAgICAgaWYgKHNpYmxpbmcgJiYgaXNQb3J0YWJsZVRleHRTcGFuKHNpYmxpbmcpICYmIEFycmF5LmlzQXJyYXkoc2libGluZy5tYXJrcykgJiYgc2libGluZy5tYXJrcy5pbmRleE9mKG1hcmspICE9PSAtMSkge1xuICAgICAgICBvY2N1cmVuY2VzW21hcmtdKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gbWFya3Muc29ydCgobWFya0EsIG1hcmtCKSA9PiBzb3J0TWFya3Mob2NjdXJlbmNlcywgbWFya0EsIG1hcmtCKSk7XG59XG5mdW5jdGlvbiBzb3J0TWFya3Mob2NjdXJlbmNlcywgbWFya0EsIG1hcmtCKSB7XG4gIGNvbnN0IGFPY2N1cmVuY2VzID0gb2NjdXJlbmNlc1ttYXJrQV07XG4gIGNvbnN0IGJPY2N1cmVuY2VzID0gb2NjdXJlbmNlc1ttYXJrQl07XG4gIGlmIChhT2NjdXJlbmNlcyAhPT0gYk9jY3VyZW5jZXMpIHtcbiAgICByZXR1cm4gYk9jY3VyZW5jZXMgLSBhT2NjdXJlbmNlcztcbiAgfVxuICBjb25zdCBhS25vd25Qb3MgPSBrbm93bkRlY29yYXRvcnMuaW5kZXhPZihtYXJrQSk7XG4gIGNvbnN0IGJLbm93blBvcyA9IGtub3duRGVjb3JhdG9ycy5pbmRleE9mKG1hcmtCKTtcbiAgaWYgKGFLbm93blBvcyAhPT0gYktub3duUG9zKSB7XG4gICAgcmV0dXJuIGFLbm93blBvcyAtIGJLbm93blBvcztcbiAgfVxuICByZXR1cm4gbWFya0EubG9jYWxlQ29tcGFyZShtYXJrQik7XG59XG5mdW5jdGlvbiBidWlsZE1hcmtzVHJlZShibG9jaykge1xuICB2YXIgX2E7XG4gIGNvbnN0IHtcbiAgICBjaGlsZHJlbixcbiAgICBtYXJrRGVmcyA9IFtdXG4gIH0gPSBibG9jaztcbiAgaWYgKCFjaGlsZHJlbiB8fCAhY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IHNvcnRlZE1hcmtzID0gY2hpbGRyZW4ubWFwKHNvcnRNYXJrc0J5T2NjdXJlbmNlcyk7XG4gIGNvbnN0IHJvb3ROb2RlID0ge1xuICAgIF90eXBlOiBcIkBzcGFuXCIsXG4gICAgY2hpbGRyZW46IFtdLFxuICAgIG1hcmtUeXBlOiBcIjx1bmtub3duPlwiXG4gIH07XG4gIGxldCBub2RlU3RhY2sgPSBbcm9vdE5vZGVdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc3BhbiA9IGNoaWxkcmVuW2ldO1xuICAgIGlmICghc3Bhbikge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IG1hcmtzTmVlZGVkID0gc29ydGVkTWFya3NbaV0gfHwgW107XG4gICAgbGV0IHBvcyA9IDE7XG4gICAgaWYgKG5vZGVTdGFjay5sZW5ndGggPiAxKSB7XG4gICAgICBmb3IgKHBvczsgcG9zIDwgbm9kZVN0YWNrLmxlbmd0aDsgcG9zKyspIHtcbiAgICAgICAgY29uc3QgbWFyayA9ICgoX2EgPSBub2RlU3RhY2tbcG9zXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLm1hcmtLZXkpIHx8IFwiXCI7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gbWFya3NOZWVkZWQuaW5kZXhPZihtYXJrKTtcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG1hcmtzTmVlZGVkLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIG5vZGVTdGFjayA9IG5vZGVTdGFjay5zbGljZSgwLCBwb3MpO1xuICAgIGxldCBjdXJyZW50Tm9kZSA9IG5vZGVTdGFja1tub2RlU3RhY2subGVuZ3RoIC0gMV07XG4gICAgaWYgKCFjdXJyZW50Tm9kZSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGZvciAoY29uc3QgbWFya0tleSBvZiBtYXJrc05lZWRlZCkge1xuICAgICAgY29uc3QgbWFya0RlZiA9IG1hcmtEZWZzLmZpbmQoZGVmID0+IGRlZi5fa2V5ID09PSBtYXJrS2V5KTtcbiAgICAgIGNvbnN0IG1hcmtUeXBlID0gbWFya0RlZiA/IG1hcmtEZWYuX3R5cGUgOiBtYXJrS2V5O1xuICAgICAgY29uc3Qgbm9kZSA9IHtcbiAgICAgICAgX3R5cGU6IFwiQHNwYW5cIixcbiAgICAgICAgX2tleTogc3Bhbi5fa2V5LFxuICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgIG1hcmtEZWYsXG4gICAgICAgIG1hcmtUeXBlLFxuICAgICAgICBtYXJrS2V5XG4gICAgICB9O1xuICAgICAgY3VycmVudE5vZGUuY2hpbGRyZW4ucHVzaChub2RlKTtcbiAgICAgIG5vZGVTdGFjay5wdXNoKG5vZGUpO1xuICAgICAgY3VycmVudE5vZGUgPSBub2RlO1xuICAgIH1cbiAgICBpZiAoaXNQb3J0YWJsZVRleHRTcGFuKHNwYW4pKSB7XG4gICAgICBjb25zdCBsaW5lcyA9IHNwYW4udGV4dC5zcGxpdChcIlxcblwiKTtcbiAgICAgIGZvciAobGV0IGxpbmUgPSBsaW5lcy5sZW5ndGg7IGxpbmUtLSA+IDE7KSB7XG4gICAgICAgIGxpbmVzLnNwbGljZShsaW5lLCAwLCBcIlxcblwiKTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnROb2RlLmNoaWxkcmVuID0gY3VycmVudE5vZGUuY2hpbGRyZW4uY29uY2F0KGxpbmVzLm1hcCh0ZXh0ID0+ICh7XG4gICAgICAgIF90eXBlOiBcIkB0ZXh0XCIsXG4gICAgICAgIHRleHRcbiAgICAgIH0pKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnROb2RlLmNoaWxkcmVuID0gY3VycmVudE5vZGUuY2hpbGRyZW4uY29uY2F0KHNwYW4pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcm9vdE5vZGUuY2hpbGRyZW47XG59XG5mdW5jdGlvbiBuZXN0TGlzdHMoYmxvY2tzLCBtb2RlKSB7XG4gIGNvbnN0IHRyZWUgPSBbXTtcbiAgbGV0IGN1cnJlbnRMaXN0O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGJsb2Nrcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGJsb2NrID0gYmxvY2tzW2ldO1xuICAgIGlmICghYmxvY2spIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoIWlzUG9ydGFibGVUZXh0TGlzdEl0ZW1CbG9jayhibG9jaykpIHtcbiAgICAgIHRyZWUucHVzaChibG9jayk7XG4gICAgICBjdXJyZW50TGlzdCA9IHZvaWQgMDtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoIWN1cnJlbnRMaXN0KSB7XG4gICAgICBjdXJyZW50TGlzdCA9IGxpc3RGcm9tQmxvY2soYmxvY2ssIGksIG1vZGUpO1xuICAgICAgdHJlZS5wdXNoKGN1cnJlbnRMaXN0KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoYmxvY2tNYXRjaGVzTGlzdChibG9jaywgY3VycmVudExpc3QpKSB7XG4gICAgICBjdXJyZW50TGlzdC5jaGlsZHJlbi5wdXNoKGJsb2NrKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoKGJsb2NrLmxldmVsIHx8IDEpID4gY3VycmVudExpc3QubGV2ZWwpIHtcbiAgICAgIGNvbnN0IG5ld0xpc3QgPSBsaXN0RnJvbUJsb2NrKGJsb2NrLCBpLCBtb2RlKTtcbiAgICAgIGlmIChtb2RlID09PSBcImh0bWxcIikge1xuICAgICAgICBjb25zdCBsYXN0TGlzdEl0ZW0gPSBjdXJyZW50TGlzdC5jaGlsZHJlbltjdXJyZW50TGlzdC5jaGlsZHJlbi5sZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3QgbmV3TGFzdENoaWxkID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBsYXN0TGlzdEl0ZW0pLCB7fSwge1xuICAgICAgICAgIGNoaWxkcmVuOiBbLi4ubGFzdExpc3RJdGVtLmNoaWxkcmVuLCBuZXdMaXN0XVxuICAgICAgICB9KTtcbiAgICAgICAgY3VycmVudExpc3QuY2hpbGRyZW5bY3VycmVudExpc3QuY2hpbGRyZW4ubGVuZ3RoIC0gMV0gPSBuZXdMYXN0Q2hpbGQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50TGlzdC5jaGlsZHJlbi5wdXNoKG5ld0xpc3QpO1xuICAgICAgfVxuICAgICAgY3VycmVudExpc3QgPSBuZXdMaXN0O1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmICgoYmxvY2subGV2ZWwgfHwgMSkgPCBjdXJyZW50TGlzdC5sZXZlbCkge1xuICAgICAgY29uc3QgbWF0Y2hpbmdCcmFuY2ggPSB0cmVlW3RyZWUubGVuZ3RoIC0gMV07XG4gICAgICBjb25zdCBtYXRjaCA9IG1hdGNoaW5nQnJhbmNoICYmIGZpbmRMaXN0TWF0Y2hpbmcobWF0Y2hpbmdCcmFuY2gsIGJsb2NrKTtcbiAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICBjdXJyZW50TGlzdCA9IG1hdGNoO1xuICAgICAgICBjdXJyZW50TGlzdC5jaGlsZHJlbi5wdXNoKGJsb2NrKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjdXJyZW50TGlzdCA9IGxpc3RGcm9tQmxvY2soYmxvY2ssIGksIG1vZGUpO1xuICAgICAgdHJlZS5wdXNoKGN1cnJlbnRMaXN0KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoYmxvY2subGlzdEl0ZW0gIT09IGN1cnJlbnRMaXN0Lmxpc3RJdGVtKSB7XG4gICAgICBjb25zdCBtYXRjaGluZ0JyYW5jaCA9IHRyZWVbdHJlZS5sZW5ndGggLSAxXTtcbiAgICAgIGNvbnN0IG1hdGNoID0gbWF0Y2hpbmdCcmFuY2ggJiYgZmluZExpc3RNYXRjaGluZyhtYXRjaGluZ0JyYW5jaCwge1xuICAgICAgICBsZXZlbDogYmxvY2subGV2ZWwgfHwgMVxuICAgICAgfSk7XG4gICAgICBpZiAobWF0Y2ggJiYgbWF0Y2gubGlzdEl0ZW0gPT09IGJsb2NrLmxpc3RJdGVtKSB7XG4gICAgICAgIGN1cnJlbnRMaXN0ID0gbWF0Y2g7XG4gICAgICAgIGN1cnJlbnRMaXN0LmNoaWxkcmVuLnB1c2goYmxvY2spO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRMaXN0ID0gbGlzdEZyb21CbG9jayhibG9jaywgaSwgbW9kZSk7XG4gICAgICAgIHRyZWUucHVzaChjdXJyZW50TGlzdCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zb2xlLndhcm4oXCJVbmtub3duIHN0YXRlIGVuY291bnRlcmVkIGZvciBibG9ja1wiLCBibG9jayk7XG4gICAgdHJlZS5wdXNoKGJsb2NrKTtcbiAgfVxuICByZXR1cm4gdHJlZTtcbn1cbmZ1bmN0aW9uIGJsb2NrTWF0Y2hlc0xpc3QoYmxvY2ssIGxpc3QpIHtcbiAgcmV0dXJuIChibG9jay5sZXZlbCB8fCAxKSA9PT0gbGlzdC5sZXZlbCAmJiBibG9jay5saXN0SXRlbSA9PT0gbGlzdC5saXN0SXRlbTtcbn1cbmZ1bmN0aW9uIGxpc3RGcm9tQmxvY2soYmxvY2ssIGluZGV4LCBtb2RlKSB7XG4gIHJldHVybiB7XG4gICAgX3R5cGU6IFwiQGxpc3RcIixcbiAgICBfa2V5OiBcIlwiLmNvbmNhdChibG9jay5fa2V5IHx8IFwiXCIuY29uY2F0KGluZGV4KSwgXCItcGFyZW50XCIpLFxuICAgIG1vZGUsXG4gICAgbGV2ZWw6IGJsb2NrLmxldmVsIHx8IDEsXG4gICAgbGlzdEl0ZW06IGJsb2NrLmxpc3RJdGVtLFxuICAgIGNoaWxkcmVuOiBbYmxvY2tdXG4gIH07XG59XG5mdW5jdGlvbiBmaW5kTGlzdE1hdGNoaW5nKHJvb3ROb2RlLCBtYXRjaGluZykge1xuICBjb25zdCBsZXZlbCA9IG1hdGNoaW5nLmxldmVsIHx8IDE7XG4gIGNvbnN0IHN0eWxlID0gbWF0Y2hpbmcubGlzdEl0ZW0gfHwgXCJub3JtYWxcIjtcbiAgY29uc3QgZmlsdGVyT25UeXBlID0gdHlwZW9mIG1hdGNoaW5nLmxpc3RJdGVtID09PSBcInN0cmluZ1wiO1xuICBpZiAoaXNQb3J0YWJsZVRleHRUb29sa2l0TGlzdChyb290Tm9kZSkgJiYgKHJvb3ROb2RlLmxldmVsIHx8IDEpID09PSBsZXZlbCAmJiBmaWx0ZXJPblR5cGUgJiYgKHJvb3ROb2RlLmxpc3RJdGVtIHx8IFwibm9ybWFsXCIpID09PSBzdHlsZSkge1xuICAgIHJldHVybiByb290Tm9kZTtcbiAgfVxuICBpZiAoIShcImNoaWxkcmVuXCIgaW4gcm9vdE5vZGUpKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBjb25zdCBub2RlID0gcm9vdE5vZGUuY2hpbGRyZW5bcm9vdE5vZGUuY2hpbGRyZW4ubGVuZ3RoIC0gMV07XG4gIHJldHVybiBub2RlICYmICFpc1BvcnRhYmxlVGV4dFNwYW4obm9kZSkgPyBmaW5kTGlzdE1hdGNoaW5nKG5vZGUsIG1hdGNoaW5nKSA6IHZvaWQgMDtcbn1cbmNvbnN0IGxlYWRpbmdTcGFjZSA9IC9eXFxzLztcbmNvbnN0IHRyYWlsaW5nU3BhY2UgPSAvXlxccy87XG5mdW5jdGlvbiB0b1BsYWluVGV4dChibG9jaykge1xuICBjb25zdCBibG9ja3MgPSBBcnJheS5pc0FycmF5KGJsb2NrKSA/IGJsb2NrIDogW2Jsb2NrXTtcbiAgbGV0IHRleHQgPSBcIlwiO1xuICBibG9ja3MuZm9yRWFjaCgoY3VycmVudCwgaW5kZXgpID0+IHtcbiAgICBpZiAoIWlzUG9ydGFibGVUZXh0QmxvY2soY3VycmVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHBhZCA9IGZhbHNlO1xuICAgIGN1cnJlbnQuY2hpbGRyZW4uZm9yRWFjaChzcGFuID0+IHtcbiAgICAgIGlmIChpc1BvcnRhYmxlVGV4dFNwYW4oc3BhbikpIHtcbiAgICAgICAgdGV4dCArPSBwYWQgJiYgdGV4dCAmJiAhdHJhaWxpbmdTcGFjZS50ZXN0KHRleHQpICYmICFsZWFkaW5nU3BhY2UudGVzdChzcGFuLnRleHQpID8gXCIgXCIgOiBcIlwiO1xuICAgICAgICB0ZXh0ICs9IHNwYW4udGV4dDtcbiAgICAgICAgcGFkID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChpbmRleCAhPT0gYmxvY2tzLmxlbmd0aCAtIDEpIHtcbiAgICAgIHRleHQgKz0gXCJcXG5cXG5cIjtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gdGV4dDtcbn1cbmZ1bmN0aW9uIHNwYW5Ub1BsYWluVGV4dChzcGFuKSB7XG4gIGxldCB0ZXh0ID0gXCJcIjtcbiAgc3Bhbi5jaGlsZHJlbi5mb3JFYWNoKGN1cnJlbnQgPT4ge1xuICAgIGlmIChpc1BvcnRhYmxlVGV4dFRvb2xraXRUZXh0Tm9kZShjdXJyZW50KSkge1xuICAgICAgdGV4dCArPSBjdXJyZW50LnRleHQ7XG4gICAgfSBlbHNlIGlmIChpc1BvcnRhYmxlVGV4dFRvb2xraXRTcGFuKGN1cnJlbnQpKSB7XG4gICAgICB0ZXh0ICs9IHNwYW5Ub1BsYWluVGV4dChjdXJyZW50KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gdGV4dDtcbn1cbmNvbnN0IExJU1RfTkVTVF9NT0RFX0hUTUwgPSBcImh0bWxcIjtcbmNvbnN0IExJU1RfTkVTVF9NT0RFX0RJUkVDVCA9IFwiZGlyZWN0XCI7XG5leHBvcnQgeyBMSVNUX05FU1RfTU9ERV9ESVJFQ1QsIExJU1RfTkVTVF9NT0RFX0hUTUwsIGJ1aWxkTWFya3NUcmVlLCBpc1BvcnRhYmxlVGV4dEJsb2NrLCBpc1BvcnRhYmxlVGV4dExpc3RJdGVtQmxvY2ssIGlzUG9ydGFibGVUZXh0U3BhbiwgaXNQb3J0YWJsZVRleHRUb29sa2l0TGlzdCwgaXNQb3J0YWJsZVRleHRUb29sa2l0U3BhbiwgaXNQb3J0YWJsZVRleHRUb29sa2l0VGV4dE5vZGUsIG5lc3RMaXN0cywgc29ydE1hcmtzQnlPY2N1cmVuY2VzLCBzcGFuVG9QbGFpblRleHQsIHRvUGxhaW5UZXh0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJvd25LZXlzIiwiZSIsInIiLCJ0IiwiT2JqZWN0Iiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsIm8iLCJmaWx0ZXIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiX29iamVjdFNwcmVhZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsImZvckVhY2giLCJfZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsImRlZmluZVByb3BlcnR5Iiwib2JqIiwia2V5IiwidmFsdWUiLCJfdG9Qcm9wZXJ0eUtleSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiYXJnIiwiX3RvUHJpbWl0aXZlIiwiU3RyaW5nIiwiaW5wdXQiLCJoaW50IiwicHJpbSIsIlN5bWJvbCIsInRvUHJpbWl0aXZlIiwidW5kZWZpbmVkIiwicmVzIiwiY2FsbCIsIlR5cGVFcnJvciIsIk51bWJlciIsImlzUG9ydGFibGVUZXh0U3BhbiIsIm5vZGUiLCJfdHlwZSIsInRleHQiLCJtYXJrcyIsIkFycmF5IiwiaXNBcnJheSIsImV2ZXJ5IiwibWFyayIsImlzUG9ydGFibGVUZXh0QmxvY2siLCJtYXJrRGVmcyIsImRlZiIsIl9rZXkiLCJjaGlsZHJlbiIsImNoaWxkIiwiaXNQb3J0YWJsZVRleHRMaXN0SXRlbUJsb2NrIiwiYmxvY2siLCJsaXN0SXRlbSIsImxldmVsIiwiaXNQb3J0YWJsZVRleHRUb29sa2l0TGlzdCIsImlzUG9ydGFibGVUZXh0VG9vbGtpdFNwYW4iLCJzcGFuIiwiaXNQb3J0YWJsZVRleHRUb29sa2l0VGV4dE5vZGUiLCJrbm93bkRlY29yYXRvcnMiLCJzb3J0TWFya3NCeU9jY3VyZW5jZXMiLCJpbmRleCIsImJsb2NrQ2hpbGRyZW4iLCJzbGljZSIsIm9jY3VyZW5jZXMiLCJzaWJsaW5nSW5kZXgiLCJzaWJsaW5nIiwiaW5kZXhPZiIsInNvcnQiLCJtYXJrQSIsIm1hcmtCIiwic29ydE1hcmtzIiwiYU9jY3VyZW5jZXMiLCJiT2NjdXJlbmNlcyIsImFLbm93blBvcyIsImJLbm93blBvcyIsImxvY2FsZUNvbXBhcmUiLCJidWlsZE1hcmtzVHJlZSIsIl9hIiwic29ydGVkTWFya3MiLCJtYXAiLCJyb290Tm9kZSIsIm1hcmtUeXBlIiwibm9kZVN0YWNrIiwiaSIsIm1hcmtzTmVlZGVkIiwicG9zIiwibWFya0tleSIsInNwbGljZSIsImN1cnJlbnROb2RlIiwibWFya0RlZiIsImZpbmQiLCJsaW5lcyIsInNwbGl0IiwibGluZSIsImNvbmNhdCIsIm5lc3RMaXN0cyIsImJsb2NrcyIsIm1vZGUiLCJ0cmVlIiwiY3VycmVudExpc3QiLCJsaXN0RnJvbUJsb2NrIiwiYmxvY2tNYXRjaGVzTGlzdCIsIm5ld0xpc3QiLCJsYXN0TGlzdEl0ZW0iLCJuZXdMYXN0Q2hpbGQiLCJtYXRjaGluZ0JyYW5jaCIsIm1hdGNoIiwiZmluZExpc3RNYXRjaGluZyIsImNvbnNvbGUiLCJ3YXJuIiwibGlzdCIsIm1hdGNoaW5nIiwic3R5bGUiLCJmaWx0ZXJPblR5cGUiLCJsZWFkaW5nU3BhY2UiLCJ0cmFpbGluZ1NwYWNlIiwidG9QbGFpblRleHQiLCJjdXJyZW50IiwicGFkIiwidGVzdCIsInNwYW5Ub1BsYWluVGV4dCIsIkxJU1RfTkVTVF9NT0RFX0hUTUwiLCJMSVNUX05FU1RfTU9ERV9ESVJFQ1QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@portabletext/toolkit/dist/index.js\n");

/***/ })

};
;